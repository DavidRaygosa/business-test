"use strict";(self.webpackChunkbusiness=self.webpackChunkbusiness||[]).push([[590],{3590:(un,Z,_)=>{_.r(Z),_.d(Z,{AdminModule:()=>_n});var d=_(6895);const m=void 0,T=["es-MX",[["a.\xa0m.","p.\xa0m."],m,m],m,[["D","L","M","M","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],m,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],m,[["a. C.","d. C."],m,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["dd/MM/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}","{1} {0}","{1}, {0}",m],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"MXN","$","peso mexicano",{AUD:[m,"$"],BRL:[m,"R$"],BYN:[m,"p."],CAD:[m,"$"],CNY:[m,"\xa5"],ESP:["\u20a7"],EUR:[m,"\u20ac"],GBP:[m,"\xa3"],HKD:[m,"$"],ILS:[m,"\u20aa"],INR:[m,"\u20b9"],JPY:[m,"\xa5"],KRW:[m,"\u20a9"],MRO:["MRU"],MRU:["UM"],MXN:["$"],NZD:[m,"$"],PHP:[m,"\u20b1"],TWD:[m,"NT$"],USD:[m,"$"],VND:[m,"\u20ab"],XAF:[],XCD:[m,"$"],XOF:[]},"ltr",function S(i){const o=i,t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length,s=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===o?1:0===s&&0!==t&&t%1e6==0&&0===n||!(s>=0&&s<=5)?4:5}];var u=_(9965),r=_(433),a=_(2687),c=_(8766),e=_(8256),f=_(4120),w=_(1481),x=_(4838),h=_(2216),g=_(6618);const C=["newItemButton"],k=["editItemButton"],q=["deleteItemButton"];function N(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onShowModalNewItem())}),e._UZ(2,"fa-icon",18),e._uU(3," Crear articulo "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faPlus)}}function E(i,o){1&i&&(e.TgZ(0,"th",23),e._uU(1,"Editar"),e.qZA())}function P(i,o){1&i&&(e.TgZ(0,"th",23),e._uU(1,"Eliminar"),e.qZA())}function M(i,o){if(1&i&&e._UZ(0,"img",30),2&i){const t=e.oxw().$implicit;e.s9C("src",t.image,e.LSH)}}function y(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",31),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onShowModalEditItem(s))}),e._UZ(2,"fa-icon",32),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("icon",t.faPencil)}}function J(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onShowModalDeleteItem(s))}),e._UZ(2,"fa-icon",32),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("icon",t.faXmark)}}function Q(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2),e.qZA(),e.TgZ(3,"td",27),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.YNc(11,M,1,1,"img",28),e.qZA(),e.YNc(12,y,3,1,"td",29),e.YNc(13,J,3,1,"td",29),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(e.lcZ(7,7,t.price)),e.xp6(3),e.Oqu(t.stock),e.xp6(2),e.Q6J("ngIf",t.image),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Item_Update)),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Item_Delete))}}function F(i,o){if(1&i&&(e.TgZ(0,"div",19),e._UZ(1,"hr"),e.TgZ(2,"div",20)(3,"table",21)(4,"thead",22)(5,"tr")(6,"th",23),e._uU(7,"Codigo"),e.qZA(),e.TgZ(8,"th",23),e._uU(9,"Descripci\xf3n"),e.qZA(),e.TgZ(10,"th",23),e._uU(11,"Price"),e.qZA(),e.TgZ(12,"th",23),e._uU(13,"Stock"),e.qZA(),e.TgZ(14,"th",23),e._uU(15,"Imagen"),e.qZA(),e.YNc(16,E,2,0,"th",24),e.YNc(17,P,2,0,"th",24),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,Q,14,9,"tr",25),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(16),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Item_Update)),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Item_Delete)),e.xp6(2),e.Q6J("ngForOf",t.Items)}}function R(i,o){1&i&&(e.TgZ(0,"div",19),e._UZ(1,"skeleton-block",34)(2,"skeleton-block",35)(3,"skeleton-block",35)(4,"skeleton-block",35)(5,"skeleton-block",35)(6,"skeleton-block",35)(7,"skeleton-block",35)(8,"skeleton-block",35),e.qZA())}function Y(i,o){if(1&i&&e._UZ(0,"img",60),2&i){const t=e.oxw(3);e.Q6J("src",t.imagePath,e.LSH)}}function B(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Crear articulo"),e.qZA())}function L(i,o){1&i&&(e.TgZ(0,"div",61)(1,"span",62),e._uU(2,"Loading..."),e.qZA()())}const p=function(i){return{"border-danger":i}};function O(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",40),e._uU(5,"Crear articulo"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",42)(8,"form",43)(9,"div",44),e._UZ(10,"fa-icon",18),e.TgZ(11,"div",45),e._UZ(12,"input",46),e.TgZ(13,"label",47),e._uU(14,"Codigo"),e.qZA()()(),e.TgZ(15,"div",44),e._UZ(16,"fa-icon",18),e.TgZ(17,"div",45),e._UZ(18,"input",48),e.TgZ(19,"label",49),e._uU(20,"Descripci\xf3n"),e.qZA()()(),e.TgZ(21,"div",44),e._UZ(22,"fa-icon",18),e.TgZ(23,"div",45),e._UZ(24,"input",50),e.TgZ(25,"label",51),e._uU(26,"Precio"),e.qZA()()(),e.TgZ(27,"div",44),e._UZ(28,"fa-icon",18),e.TgZ(29,"div",45)(30,"input",52),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onNewImageSelected(s))}),e.qZA()()(),e.YNc(31,Y,1,1,"img",53),e.TgZ(32,"div",44),e._UZ(33,"fa-icon",18),e.TgZ(34,"div",45),e._UZ(35,"input",54),e.TgZ(36,"label",55),e._uU(37,"Stock"),e.qZA()()()()(),e.TgZ(38,"div",56)(39,"button",57),e._uU(40,"Cerrar"),e.qZA(),e.TgZ(41,"button",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onNewItemSubmit())}),e.YNc(42,B,2,0,"span",29),e.YNc(43,L,3,0,"div",59),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,s,l,b,v;e.xp6(8),e.Q6J("formGroup",t.newItemForm),e.xp6(2),e.Q6J("icon",t.faBarcode),e.xp6(2),e.Q6J("ngClass",e.VKq(15,p,!(null!=(n=t.newItemForm.get("code"))&&n.valid))),e.xp6(4),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(17,p,!(null!=(s=t.newItemForm.get("description"))&&s.valid))),e.xp6(4),e.Q6J("icon",t.faCircleDollarToSlot),e.xp6(2),e.Q6J("ngClass",e.VKq(19,p,!(null!=(l=t.newItemForm.get("price"))&&l.valid))),e.xp6(4),e.Q6J("icon",t.faImage),e.xp6(2),e.Q6J("ngClass",e.VKq(21,p,!(null!=(b=t.newItemForm.get("imageBase64"))&&b.valid))),e.xp6(1),e.Q6J("ngIf",t.imagePath),e.xp6(2),e.Q6J("icon",t.faBoxArchive),e.xp6(2),e.Q6J("ngClass",e.VKq(23,p,!(null!=(v=t.newItemForm.get("stock"))&&v.valid))),e.xp6(6),e.Q6J("disabled",!t.newItemForm.valid||t.creatingItem),e.xp6(1),e.Q6J("ngIf",!t.creatingItem),e.xp6(1),e.Q6J("ngIf",t.creatingItem)}}function D(i,o){if(1&i&&e._UZ(0,"img",60),2&i){const t=e.oxw(3);e.Q6J("src",t.imagePathEdit,e.LSH)}}function G(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Actualizar articulo"),e.qZA())}function H(i,o){1&i&&(e.TgZ(0,"div",61)(1,"span",62),e._uU(2,"Loading..."),e.qZA()())}function K(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",63)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",64),e._uU(5,"Editar articulo"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",42)(8,"form",43)(9,"div",44),e._UZ(10,"fa-icon",18),e.TgZ(11,"div",45),e._UZ(12,"input",65),e.TgZ(13,"label",66),e._uU(14,"Codigo"),e.qZA()()(),e.TgZ(15,"div",44),e._UZ(16,"fa-icon",18),e.TgZ(17,"div",45),e._UZ(18,"input",67),e.TgZ(19,"label",68),e._uU(20,"Descripci\xf3n"),e.qZA()()(),e.TgZ(21,"div",44),e._UZ(22,"fa-icon",18),e.TgZ(23,"div",45),e._UZ(24,"input",69),e.TgZ(25,"label",70),e._uU(26,"Precio"),e.qZA()()(),e.TgZ(27,"div",44),e._UZ(28,"fa-icon",18),e.TgZ(29,"div",45)(30,"input",71),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onEditImageSelected(s))}),e.qZA()()(),e.YNc(31,D,1,1,"img",53),e.TgZ(32,"div",44),e._UZ(33,"fa-icon",18),e.TgZ(34,"div",45),e._UZ(35,"input",72),e.TgZ(36,"label",73),e._uU(37,"Stock"),e.qZA()()()()(),e.TgZ(38,"div",56)(39,"button",57),e._uU(40,"Cerrar"),e.qZA(),e.TgZ(41,"button",74),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onEditItemSubmit())}),e.YNc(42,G,2,0,"span",29),e.YNc(43,H,3,0,"div",59),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,s,l,b,v;e.xp6(8),e.Q6J("formGroup",t.editItemForm),e.xp6(2),e.Q6J("icon",t.faBarcode),e.xp6(2),e.Q6J("ngClass",e.VKq(15,p,!(null!=(n=t.editItemForm.get("code"))&&n.valid))),e.xp6(4),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(17,p,!(null!=(s=t.editItemForm.get("description"))&&s.valid))),e.xp6(4),e.Q6J("icon",t.faCircleDollarToSlot),e.xp6(2),e.Q6J("ngClass",e.VKq(19,p,!(null!=(l=t.editItemForm.get("price"))&&l.valid))),e.xp6(4),e.Q6J("icon",t.faImage),e.xp6(2),e.Q6J("ngClass",e.VKq(21,p,!(null!=(b=t.editItemForm.get("imageBase64"))&&b.valid))),e.xp6(1),e.Q6J("ngIf",t.imagePathEdit),e.xp6(2),e.Q6J("icon",t.faBoxArchive),e.xp6(2),e.Q6J("ngClass",e.VKq(23,p,!(null!=(v=t.editItemForm.get("stock"))&&v.valid))),e.xp6(6),e.Q6J("disabled",!t.editItemForm.valid||t.updatingItem),e.xp6(1),e.Q6J("ngIf",!t.updatingItem),e.xp6(1),e.Q6J("ngIf",t.updatingItem)}}function V(i,o){if(1&i&&e._UZ(0,"img",60),2&i){const t=e.oxw(3);e.Q6J("src",t.imagePathDelete,e.LSH)}}function $(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar articulo"),e.qZA())}function j(i,o){1&i&&(e.TgZ(0,"div",61)(1,"span",62),e._uU(2,"Loading..."),e.qZA()())}function z(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",75)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",76),e._uU(5,"Eliminar articulo"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",77)(8,"p"),e._uU(9," Se eliminar\xe1 el siguiente articulo "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12,". "),e.YNc(13,V,1,1,"img",53),e.qZA()(),e.TgZ(14,"div",56)(15,"button",57),e._uU(16,"Cerrar"),e.qZA(),e.TgZ(17,"button",78),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteItem())}),e.YNc(18,$,2,0,"span",29),e.YNc(19,j,3,0,"div",59),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.Oqu(t.deleteItemForm.value.code),e.xp6(2),e.Q6J("ngIf",t.imagePathDelete),e.xp6(4),e.Q6J("disabled",t.deletingItem),e.xp6(1),e.Q6J("ngIf",!t.deletingItem),e.xp6(1),e.Q6J("ngIf",t.deletingItem)}}function X(i,o){if(1&i&&(e.TgZ(0,"div",79)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.errorMessage)}}function W(i,o){if(1&i&&(e.TgZ(0,"div",80)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.alertMessage)}}function ee(i,o){if(1&i&&(e.TgZ(0,"main",2),e.YNc(1,N,4,1,"div",3),e.YNc(2,F,20,3,"div",4),e.YNc(3,R,9,0,"div",4),e._UZ(4,"button",5,6),e.YNc(6,O,44,25,"div",7),e._UZ(7,"button",8,9),e.YNc(9,K,44,25,"div",10),e._UZ(10,"button",11,12),e.YNc(12,z,20,5,"div",13),e.YNc(13,X,3,1,"div",14),e.YNc(14,W,3,1,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Item_Create)),e.xp6(1),e.Q6J("ngIf",!t.loadingItems&&t.permissions.includes(t.PermissionEnum.Item_Get_All)),e.xp6(1),e.Q6J("ngIf",t.loadingItems),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Item_Create)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Item_Update)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Delete)),e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("ngIf",t.alert)}}function te(i,o){1&i&&(e.TgZ(0,"div",81)(1,"span",82),e._uU(2,"\xa1Sin autorizaci\xf3n - 401!"),e.qZA()())}const ne=["newStoreButton"],oe=["editStoreButton"],re=["deleteStoreButton"];function se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onShowCreateStoreModal())}),e._UZ(2,"fa-icon",18),e._uU(3," Crear sucursal "),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faPlus)}}function le(i,o){1&i&&(e.TgZ(0,"th",23),e._uU(1,"Editar"),e.qZA())}function ae(i,o){1&i&&(e.TgZ(0,"th",23),e._uU(1,"Eliminar"),e.qZA())}function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",31),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onShowUpdateModal(s))}),e._UZ(2,"fa-icon",29),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("icon",t.faPencil)}}function me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.onShowDeleteModal(s))}),e._UZ(2,"fa-icon",29),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("icon",t.faXmark)}}const ce=function(i){return["./",i]};function _e(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2),e.qZA(),e.TgZ(3,"td",27),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",28),e._UZ(7,"fa-icon",29),e.qZA()(),e.YNc(8,de,3,1,"td",30),e.YNc(9,me,3,1,"td",30),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(t.branch),e.xp6(2),e.Oqu(t.direction),e.xp6(2),e.Q6J("routerLink",e.VKq(6,ce,t.id)),e.xp6(1),e.Q6J("icon",n.faBoxArchive),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Store_Update)),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Store_Delete))}}function ue(i,o){if(1&i&&(e.TgZ(0,"div",19),e._UZ(1,"hr"),e.TgZ(2,"div",20)(3,"table",21)(4,"thead",22)(5,"tr")(6,"th",23),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"th",23),e._uU(9,"Ubicaci\xf3n"),e.qZA(),e.TgZ(10,"th",23),e._uU(11,"Gestionar articulos"),e.qZA(),e.YNc(12,le,2,0,"th",24),e.YNc(13,ae,2,0,"th",24),e.qZA()(),e.TgZ(14,"tbody"),e.YNc(15,_e,10,8,"tr",25),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(12),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Store_Update)),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Store_Delete)),e.xp6(2),e.Q6J("ngForOf",t.Stores)}}function pe(i,o){1&i&&(e.TgZ(0,"div",19),e._UZ(1,"skeleton-block",33)(2,"skeleton-block",34)(3,"skeleton-block",34)(4,"skeleton-block",34)(5,"skeleton-block",34)(6,"skeleton-block",34)(7,"skeleton-block",34)(8,"skeleton-block",34),e.qZA())}function he(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Crear sucursal"),e.qZA())}function ge(i,o){1&i&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2,"Loading..."),e.qZA()())}const I=function(i){return{"border-danger":i}};function fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",39),e._uU(5,"Crear sucursal"),e.qZA(),e._UZ(6,"button",40),e.qZA(),e.TgZ(7,"div",41)(8,"form",42)(9,"div",43),e._UZ(10,"fa-icon",18),e.TgZ(11,"div",44),e._UZ(12,"input",45),e.TgZ(13,"label",46),e._uU(14,"Nombre"),e.qZA()()(),e.TgZ(15,"div",43),e._UZ(16,"fa-icon",18),e.TgZ(17,"div",44),e._UZ(18,"input",47),e.TgZ(19,"label",48),e._uU(20,"Direcci\xf3n (opcional)"),e.qZA()()()()(),e.TgZ(21,"div",49)(22,"button",50),e._uU(23,"Cerrar"),e.qZA(),e.TgZ(24,"button",51),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onNewStoreSubmit())}),e.YNc(25,he,2,0,"span",30),e.YNc(26,ge,3,0,"div",52),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,s;e.xp6(8),e.Q6J("formGroup",t.createStoreForm),e.xp6(2),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(8,I,!(null!=(n=t.createStoreForm.get("branch"))&&n.valid))),e.xp6(4),e.Q6J("icon",t.faLocationDot),e.xp6(2),e.Q6J("ngClass",e.VKq(10,I,!(null!=(s=t.createStoreForm.get("direction"))&&s.valid))),e.xp6(6),e.Q6J("disabled",!t.createStoreForm.valid||t.creatingStore),e.xp6(1),e.Q6J("ngIf",!t.creatingStore),e.xp6(1),e.Q6J("ngIf",t.creatingStore)}}function xe(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Actualizar sucursal"),e.qZA())}function be(i,o){1&i&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2,"Loading..."),e.qZA()())}function ve(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",56),e._uU(5,"Actualizar sucursal"),e.qZA(),e._UZ(6,"button",40),e.qZA(),e.TgZ(7,"div",41)(8,"form",42)(9,"div",43),e._UZ(10,"fa-icon",18),e.TgZ(11,"div",44),e._UZ(12,"input",45),e.TgZ(13,"label",46),e._uU(14,"Nombre"),e.qZA()()(),e.TgZ(15,"div",43),e._UZ(16,"fa-icon",18),e.TgZ(17,"div",44),e._UZ(18,"input",47),e.TgZ(19,"label",48),e._uU(20,"Direcci\xf3n (opcional)"),e.qZA()()()()(),e.TgZ(21,"div",49)(22,"button",50),e._uU(23,"Cerrar"),e.qZA(),e.TgZ(24,"button",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onUpdateStore())}),e.YNc(25,xe,2,0,"span",30),e.YNc(26,be,3,0,"div",52),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,s;e.xp6(8),e.Q6J("formGroup",t.editStoreForm),e.xp6(2),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(8,I,!(null!=(n=t.editStoreForm.get("branch"))&&n.valid))),e.xp6(4),e.Q6J("icon",t.faLocationDot),e.xp6(2),e.Q6J("ngClass",e.VKq(10,I,!(null!=(s=t.editStoreForm.get("direction"))&&s.valid))),e.xp6(6),e.Q6J("disabled",!t.editStoreForm.valid||t.updatingStore),e.xp6(1),e.Q6J("ngIf",!t.updatingStore),e.xp6(1),e.Q6J("ngIf",t.updatingStore)}}function Ie(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar sucursal"),e.qZA())}function Ae(i,o){1&i&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2,"Loading..."),e.qZA()())}function Ze(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",59),e._uU(5,"Eliminar sucursal"),e.qZA(),e._UZ(6,"button",40),e.qZA(),e.TgZ(7,"div",60)(8,"p"),e._uU(9," Se eliminar\xe1 la siguiente sucursal "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12,". "),e.qZA()(),e.TgZ(13,"div",49)(14,"button",50),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",61),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteStore())}),e.YNc(17,Ie,2,0,"span",30),e.YNc(18,Ae,3,0,"div",52),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.Oqu(t.deleteStoreForm.value.branch),e.xp6(5),e.Q6J("disabled",!t.deleteStoreForm.valid||t.deletingStore),e.xp6(1),e.Q6J("ngIf",!t.deletingStore),e.xp6(1),e.Q6J("ngIf",t.deletingStore)}}function Te(i,o){if(1&i&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.errorMessage)}}function Ue(i,o){if(1&i&&(e.TgZ(0,"div",63)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.alertMessage)}}function Se(i,o){if(1&i&&(e.TgZ(0,"main",2),e.YNc(1,se,4,1,"div",3),e.YNc(2,ue,16,3,"div",4),e.YNc(3,pe,9,0,"div",4),e._UZ(4,"button",5,6),e.YNc(6,fe,27,12,"div",7),e._UZ(7,"button",8,9),e.YNc(9,ve,27,12,"div",10),e._UZ(10,"button",11,12),e.YNc(12,Ze,19,4,"div",13),e.YNc(13,Te,3,1,"div",14),e.YNc(14,Ue,3,1,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Store_Create)),e.xp6(1),e.Q6J("ngIf",!t.loadingStores&&t.permissions.includes(t.PermissionEnum.Store_Get_All)),e.xp6(1),e.Q6J("ngIf",t.loadingStores),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Store_Create)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Store_Update)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Store_Delete)),e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("ngIf",t.alert)}}function we(i,o){1&i&&(e.TgZ(0,"div",64)(1,"span",65),e._uU(2,"\xa1Sin autorizaci\xf3n - 401!"),e.qZA()())}const ke=["newItemStoreButton"],qe=["editItemStoreButton"],Ne=["deleteItemStoreButton"];function Ee(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.onShowAddItemModal())}),e._UZ(1,"fa-icon",21),e._uU(2," A\xf1adir articulo "),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("icon",t.faPlus)}}function Pe(i,o){1&i&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2,"No hay ningun item en la sucursal"),e.qZA()())}function Me(i,o){1&i&&(e.TgZ(0,"th",28),e._uU(1,"Cambiar"),e.qZA())}function ye(i,o){1&i&&(e.TgZ(0,"th",28),e._uU(1,"Eliminar"),e.qZA())}function Je(i,o){if(1&i&&e._UZ(0,"img",34),2&i){const t=e.oxw().$implicit;e.s9C("src",null==t.item?null:t.item.image,e.LSH)}}function Qe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.onShowUpdateModal(s))}),e._UZ(2,"fa-icon",36),e.qZA()()}if(2&i){const t=e.oxw(6);e.xp6(2),e.Q6J("icon",t.faPencil)}}function Fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.onShowDeleteModal(s))}),e._UZ(2,"fa-icon",36),e.qZA()()}if(2&i){const t=e.oxw(6);e.xp6(2),e.Q6J("icon",t.faXmark)}}function Re(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.YNc(6,Je,1,1,"img",33),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.YNc(10,Qe,3,1,"td",5),e.YNc(11,Fe,3,1,"td",5),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(5);e.xp6(2),e.Oqu(null==t.item?null:t.item.code),e.xp6(2),e.Oqu(null==t.item?null:t.item.description),e.xp6(2),e.Q6J("ngIf",null==t.item?null:t.item.image),e.xp6(2),e.Oqu(e.gM2(9,6,t.date+"Z","d MMMM y h:mm:ss a","UTC-6","es-Mx")),e.xp6(2),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.ItemStore_Update)),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.ItemStore_Delete))}}function Ye(i,o){if(1&i&&(e.TgZ(0,"table",26)(1,"thead",27)(2,"tr")(3,"th",28),e._uU(4,"Codigo"),e.qZA(),e.TgZ(5,"th",28),e._uU(6,"Descripci\xf3n"),e.qZA(),e.TgZ(7,"th",28),e._uU(8,"Imagen"),e.qZA(),e.TgZ(9,"th",28),e._uU(10,"Fecha"),e.qZA(),e.YNc(11,Me,2,0,"th",29),e.YNc(12,ye,2,0,"th",29),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,Re,12,11,"tr",30),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(11),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Update)),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Delete)),e.xp6(2),e.Q6J("ngForOf",t.ItemsStore)}}function Be(i,o){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,Pe,3,0,"div",23),e.YNc(2,Ye,15,3,"table",24),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.ItemsStore.length<=0),e.xp6(1),e.Q6J("ngIf",t.ItemsStore.length>0)}}function Le(i,o){if(1&i&&(e.TgZ(0,"section")(1,"div",16)(2,"h3",17),e._uU(3),e.qZA(),e.YNc(4,Ee,3,1,"button",18),e.qZA(),e._UZ(5,"hr"),e.YNc(6,Be,3,2,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.hij("",t.Store.branch," -> Articulos"),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Create)),e.xp6(2),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Get_All))}}function Oe(i,o){1&i&&(e.TgZ(0,"div",38),e._UZ(1,"skeleton-block",39)(2,"skeleton-block",40)(3,"skeleton-block",40)(4,"skeleton-block",40)(5,"skeleton-block",40)(6,"skeleton-block",40)(7,"skeleton-block",40)(8,"skeleton-block",40),e.qZA())}function De(i,o){1&i&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2,"No hay ningun articulo"),e.qZA()())}function Ge(i,o){1&i&&(e.TgZ(0,"th",28),e._uU(1,"Agregar"),e.qZA())}function He(i,o){if(1&i&&e._UZ(0,"img",34),2&i){const t=e.oxw().$implicit;e.s9C("src",t.image,e.LSH)}}function Ke(i,o){if(1&i&&e._UZ(0,"fa-icon",36),2&i){const t=e.oxw(7);e.Q6J("icon",t.faPlus)}}function Ve(i,o){1&i&&(e.TgZ(0,"div",54)(1,"span",55),e._uU(2,"Loading..."),e.qZA()())}function $e(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",51),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.onCreateItemStore(s))}),e.YNc(2,Ke,1,1,"fa-icon",52),e.YNc(3,Ve,3,0,"div",53),e.qZA()()}if(2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",t.creatingItemStore),e.xp6(1),e.Q6J("ngIf",!t.creatingItemStore),e.xp6(1),e.Q6J("ngIf",t.creatingItemStore)}}function je(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",50),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,He,1,1,"img",33),e.qZA(),e.YNc(5,$e,4,3,"td",5),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(5);e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Q6J("ngIf",t.image),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.ItemStore_Create))}}function ze(i,o){if(1&i&&(e.TgZ(0,"table",26)(1,"thead",27)(2,"tr")(3,"th",28),e._uU(4,"Descripci\xf3n"),e.qZA(),e.TgZ(5,"th",28),e._uU(6,"Imagen"),e.qZA(),e.YNc(7,Ge,2,0,"th",29),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,je,6,3,"tr",30),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(7),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Create)),e.xp6(2),e.Q6J("ngForOf",t.Items)}}function Xe(i,o){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,De,3,0,"div",23),e.YNc(2,ze,10,2,"table",24),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.Items.length<=0),e.xp6(1),e.Q6J("ngIf",t.Items.length>0)}}function We(i,o){if(1&i&&(e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",44)(4,"h5",45),e._uU(5,"A\xf1adir articulo a la sucursal"),e.qZA(),e._UZ(6,"button",46),e.qZA(),e.TgZ(7,"div",47),e.YNc(8,Xe,3,2,"div",19),e.qZA(),e.TgZ(9,"div",48)(10,"button",49),e._uU(11,"Cerrar"),e.qZA()()()()()),2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Create))}}function et(i,o){1&i&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2,"No hay ningun articulo"),e.qZA()())}function tt(i,o){1&i&&(e.TgZ(0,"th",28),e._uU(1,"Cambiar por"),e.qZA())}function it(i,o){if(1&i&&e._UZ(0,"img",34),2&i){const t=e.oxw().$implicit;e.s9C("src",t.image,e.LSH)}}function nt(i,o){if(1&i&&e._UZ(0,"fa-icon",36),2&i){const t=e.oxw(7);e.Q6J("icon",t.faPencil)}}function ot(i,o){1&i&&(e.TgZ(0,"div",54)(1,"span",55),e._uU(2,"Loading..."),e.qZA()())}function rt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.onUpdateItemStore(s))}),e.YNc(2,nt,1,1,"fa-icon",52),e.YNc(3,ot,3,0,"div",53),e.qZA()()}if(2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",t.updatingItemStore),e.xp6(1),e.Q6J("ngIf",!t.updatingItemStore),e.xp6(1),e.Q6J("ngIf",t.updatingItemStore)}}function st(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",50),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,it,1,1,"img",33),e.qZA(),e.YNc(5,rt,4,3,"td",5),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(5);e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Q6J("ngIf",t.image),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.ItemStore_Update))}}function lt(i,o){if(1&i&&(e.TgZ(0,"table",26)(1,"thead",27)(2,"tr")(3,"th",28),e._uU(4,"Descripci\xf3n"),e.qZA(),e.TgZ(5,"th",28),e._uU(6,"Imagen"),e.qZA(),e.YNc(7,tt,2,0,"th",29),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,st,6,3,"tr",30),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(7),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Update)),e.xp6(2),e.Q6J("ngForOf",t.Items)}}function at(i,o){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,et,3,0,"div",23),e.YNc(2,lt,10,2,"table",24),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.Items.length<=0),e.xp6(1),e.Q6J("ngIf",t.Items.length>0)}}function dt(i,o){if(1&i&&(e.TgZ(0,"div",56)(1,"div",42)(2,"div",43)(3,"div",44)(4,"h5",57),e._uU(5,"Cambiar articulo"),e.qZA(),e._UZ(6,"button",46),e.qZA(),e.TgZ(7,"div",47),e.YNc(8,at,3,2,"div",19),e.qZA(),e.TgZ(9,"div",48)(10,"button",49),e._uU(11,"Cerrar"),e.qZA()()()()()),2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Update))}}function mt(i,o){if(1&i&&e._UZ(0,"img",64),2&i){const t=e.oxw(3);e.s9C("src",null==t.handleItemStore||null==t.handleItemStore.item?null:t.handleItemStore.item.image,e.LSH)}}function ct(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar articulo"),e.qZA())}function _t(i,o){1&i&&(e.TgZ(0,"div",54)(1,"span",55),e._uU(2,"Loading..."),e.qZA()())}function ut(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",42)(2,"div",43)(3,"div",44)(4,"h5",60),e._uU(5,"Eliminar articulo de la sucursal"),e.qZA(),e._UZ(6,"button",46),e.qZA(),e.TgZ(7,"div",61)(8,"p"),e._uU(9," Se eliminar\xe1 el siguiente articulo "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12," de la secursal "),e._UZ(13,"br"),e.YNc(14,mt,1,1,"img",62),e.qZA()(),e.TgZ(15,"div",48)(16,"button",49),e._uU(17,"Cerrar"),e.qZA(),e.TgZ(18,"button",63),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteItemStore())}),e.YNc(19,ct,2,0,"span",5),e.YNc(20,_t,3,0,"div",53),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.Oqu(null==t.handleItemStore||null==t.handleItemStore.item?null:t.handleItemStore.item.code),e.xp6(3),e.Q6J("ngIf",null==t.handleItemStore||null==t.handleItemStore.item?null:t.handleItemStore.item.image),e.xp6(4),e.Q6J("disabled",t.deletingItemStore),e.xp6(1),e.Q6J("ngIf",!t.deletingItemStore),e.xp6(1),e.Q6J("ngIf",t.deletingItemStore)}}function pt(i,o){if(1&i&&(e.TgZ(0,"main",4),e.YNc(1,Le,7,3,"section",5),e.YNc(2,Oe,9,0,"div",6),e._UZ(3,"button",7,8),e.YNc(5,We,12,1,"div",9),e._UZ(6,"button",10,11),e.YNc(8,dt,12,1,"div",12),e._UZ(9,"button",13,14),e.YNc(11,ut,21,5,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.loadingItemStore),e.xp6(1),e.Q6J("ngIf",t.loadingItemStore),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Create)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Update)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ItemStore_Delete))}}function ht(i,o){1&i&&(e.TgZ(0,"div",65)(1,"span",66),e._uU(2,"\xa1Sin autorizaci\xf3n - 401!"),e.qZA()())}function gt(i,o){if(1&i&&(e.TgZ(0,"div",67)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMessage)}}function ft(i,o){if(1&i&&(e.TgZ(0,"div",68)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.alertMessage)}}const bt=["deleteClientItemButton"];function vt(i,o){1&i&&(e.TgZ(0,"th",16),e._uU(1,"Eliminar"),e.qZA())}function It(i,o){if(1&i&&e._UZ(0,"img",22),2&i){const t=e.oxw().$implicit;e.s9C("src",null==t.item?null:t.item.image,e.LSH)}}function At(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowDeleteModal(s))}),e._UZ(2,"fa-icon",24),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faXmark)}}function Zt(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",20),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td"),e.YNc(13,It,1,1,"img",21),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.YNc(17,At,3,1,"td",0),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(4);e.xp6(2),e.AsE("",null==t.client?null:t.client.name," ",null==t.client?null:t.client.lastname,""),e.xp6(2),e.Oqu(null==t.item?null:t.item.code),e.xp6(2),e.Oqu(null==t.item?null:t.item.description),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(e.lcZ(11,9,null==t.item?null:t.item.price)),e.xp6(3),e.Q6J("ngIf",null==t.item?null:t.item.image),e.xp6(2),e.Oqu(e.gM2(16,11,t.date+"Z","d MMMM y h:mm:ss a","UTC-6","es-Mx")),e.xp6(2),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.ClientItem_Delete))}}function Tt(i,o){if(1&i&&(e.TgZ(0,"div",13)(1,"table",14)(2,"thead",15)(3,"tr")(4,"th",16),e._uU(5,"Cliente"),e.qZA(),e.TgZ(6,"th",16),e._uU(7,"Codigo"),e.qZA(),e.TgZ(8,"th",16),e._uU(9,"Descripci\xf3n"),e.qZA(),e.TgZ(10,"th",16),e._uU(11,"Cantidad"),e.qZA(),e.TgZ(12,"th",16),e._uU(13,"Precio"),e.qZA(),e.TgZ(14,"th",16),e._uU(15,"Imagen"),e.qZA(),e.TgZ(16,"th",16),e._uU(17,"Fecha"),e.qZA(),e.YNc(18,vt,2,0,"th",17),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,Zt,18,16,"tr",18),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(18),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ClientItem_Delete)),e.xp6(2),e.Q6J("ngForOf",t.Orders)}}function Ut(i,o){1&i&&(e.TgZ(0,"div",25)(1,"span",10),e._uU(2,"Sin ningun pedido"),e.qZA()())}function St(i,o){if(1&i&&(e.TgZ(0,"main",9)(1,"h3",10),e._uU(2,"Pedidos"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,Tt,21,2,"div",11),e.YNc(5,Ut,3,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.Orders.length>0),e.xp6(1),e.Q6J("ngIf",t.Orders.length<=0)}}function wt(i,o){1&i&&(e.TgZ(0,"div",26)(1,"span",27),e._uU(2,"Sin autorizaci\xf3n - 401"),e.qZA()())}function Ct(i,o){if(1&i&&e._UZ(0,"img",40),2&i){const t=e.oxw(3);e.s9C("src",null==t.handleOrder||null==t.handleOrder.item?null:t.handleOrder.item.image,e.LSH)}}function kt(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar pedido"),e.qZA())}function qt(i,o){1&i&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2,"Loading..."),e.qZA()())}function Nt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h5",32),e._uU(5,"Eliminar pedido"),e.qZA(),e._UZ(6,"button",33),e.qZA(),e.TgZ(7,"div",34)(8,"p"),e._uU(9," Se eliminar\xe1 el pedido del cliente "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._UZ(12,"br"),e.YNc(13,Ct,1,1,"img",35),e.qZA()(),e.TgZ(14,"div",36)(15,"button",37),e._uU(16,"Cerrar"),e.qZA(),e.TgZ(17,"button",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteClientItem())}),e.YNc(18,kt,2,0,"span",0),e.YNc(19,qt,3,0,"div",39),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.AsE("",null==t.handleOrder||null==t.handleOrder.client?null:t.handleOrder.client.name," ",null==t.handleOrder||null==t.handleOrder.client?null:t.handleOrder.client.lastname,""),e.xp6(2),e.Q6J("ngIf",null==t.handleOrder||null==t.handleOrder.item?null:t.handleOrder.item.image),e.xp6(4),e.Q6J("disabled",t.deletingOrder),e.xp6(1),e.Q6J("ngIf",!t.deletingOrder),e.xp6(1),e.Q6J("ngIf",t.deletingOrder)}}function Et(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,St,6,2,"main",4),e.YNc(2,wt,3,0,"div",5),e._UZ(3,"button",6,7),e.YNc(5,Nt,20,6,"div",8),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ClientItem_Admin)),e.xp6(1),e.Q6J("ngIf",!t.permissions.includes(t.PermissionEnum.ClientItem_Admin)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.ClientItem_Delete))}}function Pt(i,o){1&i&&(e.TgZ(0,"div",43),e._UZ(1,"skeleton-block",44)(2,"skeleton-block",45)(3,"skeleton-block",45)(4,"skeleton-block",45)(5,"skeleton-block",45)(6,"skeleton-block",45)(7,"skeleton-block",45)(8,"skeleton-block",45),e.qZA())}function Mt(i,o){if(1&i&&(e.TgZ(0,"div",46)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMessage)}}function yt(i,o){if(1&i&&(e.TgZ(0,"div",47)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.alertMessage)}}const Qt=["editUserButton"],Ft=["deleteUserButton"];function Rt(i,o){1&i&&(e.TgZ(0,"th",19),e._uU(1,"Editar"),e.qZA())}function Yt(i,o){1&i&&(e.TgZ(0,"th",19),e._uU(1,"Eliminar"),e.qZA())}function Bt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowUpdateUserModel(s))}),e._UZ(2,"fa-icon",25),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faPencil)}}function Lt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowDeleteUserModal(s))}),e._UZ(2,"fa-icon",25),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faXmark)}}function Ot(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",22),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.YNc(9,Bt,3,1,"td",0),e.YNc(10,Lt,3,1,"td",0),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(4);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.lastname),e.xp6(2),e.Oqu(t.direction),e.xp6(2),e.Oqu(t.roleId),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Client_Update)),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Client_Delete))}}function Dt(i,o){if(1&i&&(e.TgZ(0,"div",16)(1,"table",17)(2,"thead",18)(3,"tr")(4,"th",19),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"th",19),e._uU(7,"Apellido"),e.qZA(),e.TgZ(8,"th",19),e._uU(9,"Direcci\xf3n"),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Role Id"),e.qZA(),e.YNc(12,Rt,2,0,"th",20),e.YNc(13,Yt,2,0,"th",20),e.qZA()(),e.TgZ(14,"tbody"),e.YNc(15,Ot,11,6,"tr",21),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(12),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Client_Update)),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Client_Delete)),e.xp6(2),e.Q6J("ngForOf",t.Clients)}}function Gt(i,o){1&i&&(e.TgZ(0,"div",27)(1,"span",13),e._uU(2,"No hay ningun usuario de momento"),e.qZA()())}function Ht(i,o){if(1&i&&(e.TgZ(0,"main",12)(1,"h3",13),e._uU(2,"Usuarios"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,Dt,16,3,"div",14),e.YNc(5,Gt,3,0,"div",15),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.Clients.length>0),e.xp6(1),e.Q6J("ngIf",t.Clients.length<=0)}}function Kt(i,o){1&i&&(e.TgZ(0,"div",28)(1,"span",29),e._uU(2,"Sin autorizaci\xf3n - 401"),e.qZA()())}function Vt(i,o){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(3);e.Q6J("value",t.id)("selected",t.id==n.editUserForm.value.roleId),e.xp6(1),e.Oqu(t.name)}}function $t(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Actualizar usuario"),e.qZA())}function jt(i,o){1&i&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2,"Loading..."),e.qZA()())}const A=function(i){return{"border-danger":i}};function zt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"h5",34),e._uU(5,"Actualizar usuario"),e.qZA(),e._UZ(6,"button",35),e.qZA(),e.TgZ(7,"div",36)(8,"form",37)(9,"div",38),e._UZ(10,"fa-icon",39),e.TgZ(11,"div",40),e._UZ(12,"input",41),e.TgZ(13,"label",42),e._uU(14,"Nombre"),e.qZA()()(),e.TgZ(15,"div",38),e._UZ(16,"fa-icon",39),e.TgZ(17,"div",40),e._UZ(18,"input",43),e.TgZ(19,"label",44),e._uU(20,"Apellido"),e.qZA()()(),e.TgZ(21,"div",38),e._UZ(22,"fa-icon",39),e.TgZ(23,"div",40),e._UZ(24,"input",45),e.TgZ(25,"label",46),e._uU(26,"Direcci\xf3n (Opcional)"),e.qZA()()(),e.TgZ(27,"div",38),e._UZ(28,"fa-icon",39),e.TgZ(29,"div",47)(30,"select",48),e.YNc(31,Vt,2,3,"option",49),e.qZA()()()()(),e.TgZ(32,"div",50)(33,"button",51),e._uU(34,"Cerrar"),e.qZA(),e.TgZ(35,"button",52),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onUpdateUser())}),e.YNc(36,$t,2,0,"span",0),e.YNc(37,jt,3,0,"div",53),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n,s,l;e.xp6(8),e.Q6J("formGroup",t.editUserForm),e.xp6(2),e.Q6J("icon",t.faUser),e.xp6(2),e.Q6J("ngClass",e.VKq(12,A,!(null!=(n=t.editUserForm.get("name"))&&n.valid))),e.xp6(4),e.Q6J("icon",t.faUser),e.xp6(2),e.Q6J("ngClass",e.VKq(14,A,!(null!=(s=t.editUserForm.get("lastname"))&&s.valid))),e.xp6(4),e.Q6J("icon",t.faLocationDot),e.xp6(2),e.Q6J("ngClass",e.VKq(16,A,!(null!=(l=t.editUserForm.get("direction"))&&l.valid))),e.xp6(4),e.Q6J("icon",t.faKey),e.xp6(3),e.Q6J("ngForOf",t.Roles),e.xp6(4),e.Q6J("disabled",!t.editUserForm.valid||t.updatingUser),e.xp6(1),e.Q6J("ngIf",!t.updatingUser),e.xp6(1),e.Q6J("ngIf",t.updatingUser)}}function Xt(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar usuario"),e.qZA())}function Wt(i,o){1&i&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2,"Loading..."),e.qZA()())}function ei(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"div",31)(2,"div",32)(3,"div",33)(4,"h5",58),e._uU(5,"Eliminar usuario"),e.qZA(),e._UZ(6,"button",35),e.qZA(),e.TgZ(7,"div",59)(8,"p"),e._uU(9,"Se eliminar\xe1 el usuario con nombre "),e.TgZ(10,"b"),e._uU(11),e.qZA()()(),e.TgZ(12,"div",50)(13,"button",51),e._uU(14,"Cerrar"),e.qZA(),e.TgZ(15,"button",60),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteUser())}),e.YNc(16,Xt,2,0,"span",0),e.YNc(17,Wt,3,0,"div",53),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.AsE("",null==t.handlClient?null:t.handlClient.name," ",null==t.handlClient?null:t.handlClient.lastname,""),e.xp6(4),e.Q6J("disabled",t.deletingUser),e.xp6(1),e.Q6J("ngIf",!t.deletingUser),e.xp6(1),e.Q6J("ngIf",t.deletingUser)}}function ti(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ht,6,2,"main",4),e.YNc(2,Kt,3,0,"div",5),e._UZ(3,"button",6,7),e.YNc(5,zt,38,18,"div",8),e._UZ(6,"button",9,10),e.YNc(8,ei,18,5,"div",11),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Client_Get_All)),e.xp6(1),e.Q6J("ngIf",!t.permissions.includes(t.PermissionEnum.Client_Get_All)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Client_Update)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Client_Delete))}}function ii(i,o){1&i&&(e.TgZ(0,"div",61),e._UZ(1,"skeleton-block",62)(2,"skeleton-block",63)(3,"skeleton-block",63)(4,"skeleton-block",63)(5,"skeleton-block",63)(6,"skeleton-block",63)(7,"skeleton-block",63)(8,"skeleton-block",63),e.qZA())}function ni(i,o){if(1&i&&(e.TgZ(0,"div",64)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMessage)}}function oi(i,o){if(1&i&&(e.TgZ(0,"div",65)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.alertMessage)}}const si=["newRoleButton"],li=["editRoleButton"],ai=["deleteRoleButton"];function di(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.onShowCreateModal())}),e._UZ(2,"fa-icon",22),e._uU(3," Crear role "),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("icon",t.faPlus)}}function mi(i,o){1&i&&(e.TgZ(0,"th",26),e._uU(1,"Editar"),e.qZA())}function ci(i,o){1&i&&(e.TgZ(0,"th",26),e._uU(1,"Eliminar"),e.qZA())}function _i(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowEditRoleModal(s))}),e._UZ(2,"fa-icon",31),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faPencil)}}function ui(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowDeleteModal(s))}),e._UZ(2,"fa-icon",31),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faXmark)}}function pi(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",29),e._uU(2),e.qZA(),e.YNc(3,_i,3,1,"td",0),e.YNc(4,ui,3,1,"td",0),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(4);e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Role_Update)),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Role_Delete))}}function hi(i,o){if(1&i&&(e.TgZ(0,"div",23)(1,"table",24)(2,"thead",25)(3,"tr")(4,"th",26),e._uU(5,"Nombre"),e.qZA(),e.YNc(6,mi,2,0,"th",27),e.YNc(7,ci,2,0,"th",27),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,pi,5,3,"tr",28),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Update)),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Delete)),e.xp6(2),e.Q6J("ngForOf",t.Roles)}}function gi(i,o){1&i&&(e.TgZ(0,"div",33)(1,"span",16),e._uU(2,"No hay ningun role de momento"),e.qZA()())}function fi(i,o){if(1&i&&(e.TgZ(0,"main",15)(1,"h3",16),e._uU(2,"Roles"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,di,4,1,"div",17),e.YNc(5,hi,10,3,"div",18),e.YNc(6,gi,3,0,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Create)),e.xp6(1),e.Q6J("ngIf",t.Roles.length>0),e.xp6(1),e.Q6J("ngIf",t.Roles.length<=0)}}function xi(i,o){1&i&&(e.TgZ(0,"div",34)(1,"span",35),e._uU(2,"Sin autorizaci\xf3n - 401"),e.qZA()())}function bi(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Crear role"),e.qZA())}function vi(i,o){1&i&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2,"Loading..."),e.qZA()())}const Ii=function(i){return{"border-danger":i}};function Ai(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",40),e._uU(5,"Crear role"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",42)(8,"form",43)(9,"div",44),e._UZ(10,"fa-icon",22),e.TgZ(11,"div",45),e._UZ(12,"input",46),e.TgZ(13,"label",47),e._uU(14,"Nombre"),e.qZA()()()()(),e.TgZ(15,"div",48)(16,"button",49),e._uU(17,"Cerrar"),e.qZA(),e.TgZ(18,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCreateRole())}),e.YNc(19,bi,2,0,"span",0),e.YNc(20,vi,3,0,"div",51),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n;e.xp6(8),e.Q6J("formGroup",t.newRoleForm),e.xp6(2),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(6,Ii,!(null!=(n=t.newRoleForm.get("name"))&&n.valid))),e.xp6(6),e.Q6J("disabled",!t.newRoleForm.valid||t.creatingRole),e.xp6(1),e.Q6J("ngIf",!t.creatingRole),e.xp6(1),e.Q6J("ngIf",t.creatingRole)}}function Zi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",61)(1,"div",62)(2,"input",63),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw(4);return e.KtG(l.onChangePermission(s))}),e.qZA(),e.TgZ(3,"label",64),e._uU(4),e.qZA()(),e._UZ(5,"hr"),e.qZA()}if(2&i){const t=o.$implicit,n=e.oxw(4);e.xp6(2),e.Q6J("id","permissionCheck_"+t.id)("checked",null==n.handleRole||null==n.handleRole.permissions?null:n.handleRole.permissions.includes(t.name.toString()))("value",t.name),e.xp6(1),e.Q6J("for","permissionCheck_"+t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ti(i,o){if(1&i&&(e.TgZ(0,"ul",59),e.YNc(1,Zi,6,5,"li",60),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.Permissions)}}function Ui(i,o){1&i&&(e.TgZ(0,"div",33)(1,"span",16),e._uU(2,"Sin permisos"),e.qZA()())}function Si(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Actualizar role"),e.qZA())}function wi(i,o){1&i&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2,"Loading..."),e.qZA()())}function Ci(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"div",38)(3,"div",39)(4,"h5",56),e._uU(5,"Editar role"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",42),e.YNc(8,Ti,2,1,"ul",57),e.YNc(9,Ui,3,0,"div",19),e.qZA(),e.TgZ(10,"div",48)(11,"button",49),e._uU(12,"Cerrar"),e.qZA(),e.TgZ(13,"button",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onUpdateRole())}),e.YNc(14,Si,2,0,"span",0),e.YNc(15,wi,3,0,"div",51),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.Permissions.length>0),e.xp6(1),e.Q6J("ngIf",t.Permissions.length<=0),e.xp6(4),e.Q6J("disabled",t.updatingRole),e.xp6(1),e.Q6J("ngIf",!t.updatingRole),e.xp6(1),e.Q6J("ngIf",t.updatingRole)}}function ki(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar role"),e.qZA())}function qi(i,o){1&i&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2,"Loading..."),e.qZA()())}function Ni(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",65)(1,"div",55)(2,"div",38)(3,"div",39)(4,"h5",66),e._uU(5,"Eliminar role"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",67)(8,"p"),e._uU(9,"Se eliminar\xe1 el siguiente role "),e.TgZ(10,"b"),e._uU(11),e.qZA()()(),e.TgZ(12,"div",48)(13,"button",49),e._uU(14,"Cerrar"),e.qZA(),e.TgZ(15,"button",68),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteRole())}),e.YNc(16,ki,2,0,"span",0),e.YNc(17,qi,3,0,"div",51),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.Oqu(null==t.handleRole?null:t.handleRole.name),e.xp6(4),e.Q6J("disabled",t.deletingRole),e.xp6(1),e.Q6J("ngIf",!t.deletingRole),e.xp6(1),e.Q6J("ngIf",t.deletingRole)}}function Ei(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,fi,7,3,"main",4),e.YNc(2,xi,3,0,"div",5),e._UZ(3,"button",6,7),e.YNc(5,Ai,21,8,"div",8),e._UZ(6,"button",9,10),e.YNc(8,Ci,16,5,"div",11),e._UZ(9,"button",12,13),e.YNc(11,Ni,18,4,"div",14),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Get_All)),e.xp6(1),e.Q6J("ngIf",!t.permissions.includes(t.PermissionEnum.Role_Get_All)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Create)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Update)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Role_Delete))}}function Pi(i,o){1&i&&(e.TgZ(0,"div",69),e._UZ(1,"skeleton-block",70)(2,"skeleton-block",71)(3,"skeleton-block",71)(4,"skeleton-block",71)(5,"skeleton-block",71)(6,"skeleton-block",71)(7,"skeleton-block",71)(8,"skeleton-block",71),e.qZA())}function Mi(i,o){if(1&i&&(e.TgZ(0,"div",72)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMessage)}}function yi(i,o){if(1&i&&(e.TgZ(0,"div",73)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.alertMessage)}}const Qi=["newPermissionButton"],Fi=["editPermissionButton"],Ri=["deletePermissionButton"];function Yi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.onShowCreateModal())}),e._UZ(2,"fa-icon",22),e._uU(3," Crear permiso "),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("icon",t.faPlus)}}function Bi(i,o){1&i&&(e.TgZ(0,"th",26),e._uU(1,"Editar"),e.qZA())}function Li(i,o){1&i&&(e.TgZ(0,"th",26),e._uU(1,"Eliminar"),e.qZA())}function Oi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowUpdateModal(s))}),e._UZ(2,"fa-icon",31),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faPencil)}}function Di(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(4);return e.KtG(l.onShowDeleteModal(s))}),e._UZ(2,"fa-icon",31),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(2),e.Q6J("icon",t.faXmark)}}function Gi(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",29),e._uU(2),e.qZA(),e.YNc(3,Oi,3,1,"td",0),e.YNc(4,Di,3,1,"td",0),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(4);e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Permission_Update)),e.xp6(1),e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Permission_Delete))}}function Hi(i,o){if(1&i&&(e.TgZ(0,"div",23)(1,"table",24)(2,"thead",25)(3,"tr")(4,"th",26),e._uU(5,"Nombre"),e.qZA(),e.YNc(6,Bi,2,0,"th",27),e.YNc(7,Li,2,0,"th",27),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,Gi,5,3,"tr",28),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Update)),e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Delete)),e.xp6(2),e.Q6J("ngForOf",t.Permissions)}}function Ki(i,o){1&i&&(e.TgZ(0,"div",33)(1,"span",16),e._uU(2,"No hay ningun permisos de momento"),e.qZA()())}function Vi(i,o){if(1&i&&(e.TgZ(0,"main",15)(1,"h3",16),e._uU(2,"Permisos"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,Yi,4,1,"div",17),e.YNc(5,Hi,10,3,"div",18),e.YNc(6,Ki,3,0,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Create)),e.xp6(1),e.Q6J("ngIf",t.Permissions.length>0),e.xp6(1),e.Q6J("ngIf",t.Permissions.length<=0)}}function $i(i,o){1&i&&(e.TgZ(0,"div",34)(1,"span",35),e._uU(2,"Sin autorizaci\xf3n - 401"),e.qZA()())}function ji(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Crear permiso"),e.qZA())}function zi(i,o){1&i&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2,"Loading..."),e.qZA()())}const U=function(i){return{"border-danger":i}};function Xi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",40),e._uU(5,"Crear permiso"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",42)(8,"form",43)(9,"div",44),e._UZ(10,"fa-icon",22),e.TgZ(11,"div",45),e._UZ(12,"input",46),e.TgZ(13,"label",47),e._uU(14,"Nombre"),e.qZA()()()()(),e.TgZ(15,"div",48)(16,"button",49),e._uU(17,"Cerrar"),e.qZA(),e.TgZ(18,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCreatePermission())}),e.YNc(19,ji,2,0,"span",0),e.YNc(20,zi,3,0,"div",51),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n;e.xp6(8),e.Q6J("formGroup",t.newPermissionForm),e.xp6(2),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(6,U,!(null!=(n=t.newPermissionForm.get("name"))&&n.valid))),e.xp6(6),e.Q6J("disabled",!t.newPermissionForm.valid||t.creatingPermission),e.xp6(1),e.Q6J("ngIf",!t.creatingPermission),e.xp6(1),e.Q6J("ngIf",t.creatingPermission)}}function Wi(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Editar permiso"),e.qZA())}function en(i,o){1&i&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2,"Loading..."),e.qZA()())}function tn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",55),e._uU(5,"Editar permiso"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",42)(8,"form",43)(9,"div",44),e._UZ(10,"fa-icon",22),e.TgZ(11,"div",45),e._UZ(12,"input",56),e.TgZ(13,"label",57),e._uU(14,"Nombre"),e.qZA()()()()(),e.TgZ(15,"div",48)(16,"button",49),e._uU(17,"Cerrar"),e.qZA(),e.TgZ(18,"button",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onUpdatePermission())}),e.YNc(19,Wi,2,0,"span",0),e.YNc(20,en,3,0,"div",51),e.qZA()()()()()}if(2&i){const t=e.oxw(2);let n;e.xp6(8),e.Q6J("formGroup",t.editPermissionForm),e.xp6(2),e.Q6J("icon",t.faTextHeight),e.xp6(2),e.Q6J("ngClass",e.VKq(6,U,!(null!=(n=t.editPermissionForm.get("name"))&&n.valid))),e.xp6(6),e.Q6J("disabled",!t.editPermissionForm.valid||t.updatingPermission),e.xp6(1),e.Q6J("ngIf",!t.updatingPermission),e.xp6(1),e.Q6J("ngIf",t.updatingPermission)}}function nn(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Eliminar permiso"),e.qZA())}function on(i,o){1&i&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2,"Loading..."),e.qZA()())}function rn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",60),e._uU(5,"Eliminar permiso"),e.qZA(),e._UZ(6,"button",41),e.qZA(),e.TgZ(7,"div",61)(8,"p"),e._uU(9,"Se eliminar\xe1 el siguiente permiso "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12,"."),e.qZA()(),e.TgZ(13,"div",48)(14,"button",49),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",62),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeletePermission())}),e.YNc(17,nn,2,0,"span",0),e.YNc(18,on,3,0,"div",51),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(11),e.Oqu(null==t.handlePermission?null:t.handlePermission.name),e.xp6(5),e.Q6J("disabled",t.deletingPermission),e.xp6(1),e.Q6J("ngIf",!t.deletingPermission),e.xp6(1),e.Q6J("ngIf",t.deletingPermission)}}function sn(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Vi,7,3,"main",4),e.YNc(2,$i,3,0,"div",5),e._UZ(3,"button",6,7),e.YNc(5,Xi,21,8,"div",8),e._UZ(6,"button",9,10),e.YNc(8,tn,21,8,"div",11),e._UZ(9,"button",12,13),e.YNc(11,rn,19,4,"div",14),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Get_All)),e.xp6(1),e.Q6J("ngIf",!t.permissions.includes(t.PermissionEnum.Permission_Get_All)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Create)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Update)),e.xp6(3),e.Q6J("ngIf",t.permissions.includes(t.PermissionEnum.Permission_Delete))}}function ln(i,o){1&i&&(e.TgZ(0,"div",63),e._UZ(1,"skeleton-block",64)(2,"skeleton-block",65)(3,"skeleton-block",65)(4,"skeleton-block",65)(5,"skeleton-block",65)(6,"skeleton-block",65)(7,"skeleton-block",65)(8,"skeleton-block",65),e.qZA())}function an(i,o){if(1&i&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMessage)}}function dn(i,o){if(1&i&&(e.TgZ(0,"div",67)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.alertMessage)}}const mn=[{path:"",component:(()=>{class i{constructor(t,n,s,l,b){this.LoginService=t,this.Router=n,this.DomSanitizer=s,this.ApiBusinessService=l,this.CurrencyPipe=b,this.faPlus=a.r8p,this.faBarcode=a.VdD,this.faTextHeight=a.Ond,this.faCircleDollarToSlot=a.YIJ,this.faImage=a.VmB,this.faBoxArchive=a.y3c,this.faPencil=a.TzT,this.faXmark=a.g82,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingItems=!0,this.creatingItem=!1,this.updatingItem=!1,this.deletingItem=!1,this.newItemForm=new r.cw({code:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),description:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),price:new r.NI("",r.kI.compose([r.kI.required])),imageBase64:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3)])),stock:new r.NI("",r.kI.compose([r.kI.required]))}),this.editItemForm=new r.cw({id:new r.NI("",r.kI.compose([r.kI.required])),code:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),description:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),price:new r.NI("",r.kI.compose([r.kI.required])),imageBase64:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3)])),stock:new r.NI("",r.kI.compose([r.kI.required]))}),this.deleteItemForm=new r.cw({id:new r.NI("",r.kI.compose([r.kI.required])),code:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),description:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),price:new r.NI("",r.kI.compose([r.kI.required])),imageBase64:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3)])),stock:new r.NI("",r.kI.compose([r.kI.required]))}),this.Items=[]}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Item_Admin)&&this.Router.navigate([""])}),this.getItems(),this.handleFormTranforms()}handleFormTranforms(){this.newItemForm.valueChanges.subscribe(t=>{t.price&&this.newItemForm.patchValue({price:this.CurrencyPipe.transform(t.price.replace(/\D/g,"").replace(/^0+/,""),"USD","symbol","1.0-0")},{emitEvent:!1})}),this.editItemForm.valueChanges.subscribe(t=>{t.price&&this.editItemForm.patchValue({price:this.CurrencyPipe.transform(t.price.replace(/\D/g,"").replace(/^0+/,""),"USD","symbol","1.0-0")},{emitEvent:!1})})}getItems(){this.loadingItems=!0,this.hideError(),this.ApiBusinessService.GetItems().subscribe({next:t=>this.handleNextItems(t),error:t=>this.handleErrorItems(t)})}handleNextItems(t){this.loadingItems=!1,this.Items=t}handleErrorItems(t){this.loadingItems=!1,this.showErrorAlert(t.error)}onNewItemSubmit(){if(!(this.newItemForm.value.code&&this.newItemForm.value.description&&this.newItemForm.value.price&&this.newItemForm.value.imageBase64&&this.newItemForm.value.stock))return;const t={code:this.newItemForm.value.code,description:this.newItemForm.value.description,price:Number(this.newItemForm.value.price.replace(/[$,]/g,"")),imageBase64:this.newItemForm.value.imageBase64,stock:Number(this.newItemForm.value.stock)};this.hideError(),this.hideAlert(),this.creatingItem=!0,this.ApiBusinessService.createItem(t).subscribe({next:n=>this.handleNextItem(n),error:n=>this.handleErrorItem(n)})}handleNextItem(t){this.creatingItem=!1,this.newItemForm.reset(),this.imagePath=void 0,this.newItemButton?.nativeElement.click(),this.showAlert("\xa1Articulo creado exitosamente!"),this.getItems()}handleErrorItem(t){this.creatingItem=!1,this.showErrorAlert(t.error)}onShowModalNewItem(){this.newItemButton?.nativeElement.click()}onNewImageSelected(t){const n=t.target.files[0],s=new FileReader;s.readAsDataURL(n),s.onload=()=>{this.newItemForm.controls.imageBase64.setValue(s.result),this.imagePath=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.newItemForm.value.imageBase64)}}onShowModalEditItem(t){t&&(this.editItemForm.controls.id.setValue(t.id.toString()),this.editItemForm.controls.code.setValue(t.code),this.editItemForm.controls.description.setValue(t.description),this.editItemForm.controls.price.setValue(t.price.toString()),this.editItemForm.controls.imageBase64.setValue(t.image),this.editItemForm.controls.stock.setValue(t.stock.toString()),this.editItemForm.value.imageBase64&&(this.imagePathEdit=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.editItemForm.value.imageBase64)),this.editItemButton?.nativeElement.click())}onEditItemSubmit(){if(!(this.editItemForm.value.code&&this.editItemForm.value.description&&this.editItemForm.value.price&&this.editItemForm.value.imageBase64&&this.editItemForm.value.stock))return;const t={id:Number(this.editItemForm.value.id),code:this.editItemForm.value.code,description:this.editItemForm.value.description,price:Number(this.editItemForm.value.price.replace(/[$,]/g,"")),imageBase64:this.editItemForm.value.imageBase64,stock:Number(this.editItemForm.value.stock)};this.updatingItem=!0,this.hideError(),this.hideAlert(),this.ApiBusinessService.updateItem(t).subscribe({next:n=>this.handleNextUpdateItem(n),error:n=>this.handleErrorUpdateItem(n)})}handleNextUpdateItem(t){this.updatingItem=!1,this.editItemForm.reset(),this.imagePathEdit=void 0,this.editItemButton?.nativeElement.click(),this.showAlert("\xa1Articulo actualizado exitosamente!"),this.getItems()}handleErrorUpdateItem(t){this.updatingItem=!1,this.showErrorAlert(t.error)}onEditImageSelected(t){const n=t.target.files[0],s=new FileReader;s.readAsDataURL(n),s.onload=()=>{this.editItemForm.controls.imageBase64.setValue(s.result),this.imagePathEdit=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.editItemForm.value.imageBase64)}}onShowModalDeleteItem(t){t&&(this.deleteItemForm.controls.id.setValue(t.id.toString()),this.deleteItemForm.controls.code.setValue(t.code),this.deleteItemForm.controls.description.setValue(t.description),this.deleteItemForm.controls.price.setValue(t.price.toString()),this.deleteItemForm.controls.imageBase64.setValue(t.image),this.deleteItemForm.controls.stock.setValue(t.stock.toString()),this.deleteItemForm.value.imageBase64&&(this.imagePathDelete=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.deleteItemForm.value.imageBase64)),this.deleteItemButton?.nativeElement.click())}onDeleteItem(){!this.deleteItemForm.value.code||!this.deleteItemForm.value.id||(this.hideAlert(),this.hideError(),this.deletingItem=!0,this.ApiBusinessService.deleteItem(Number(this.deleteItemForm.value.id)).subscribe({next:t=>this.handleNextDeleteItem(t),error:t=>this.handleErrorDeleteItem(t)}))}handleNextDeleteItem(t){this.deletingItem=!1,this.deleteItemForm.reset(),this.imagePathDelete=void 0,this.deleteItemButton?.nativeElement.click(),this.showAlert("\xa1Articulo eliminado exitosamente!"),this.getItems()}handleErrorDeleteItem(t){this.deletingItem=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.F0),e.Y36(w.H7),e.Y36(x.G),e.Y36(d.H9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-item-admin"]],viewQuery:function(t,n){if(1&t&&(e.Gf(C,5),e.Gf(k,5),e.Gf(q,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.newItemButton=s.first),e.iGM(s=e.CRH())&&(n.editItemButton=s.first),e.iGM(s=e.CRH())&&(n.deleteItemButton=s.first)}},decls:2,vars:2,consts:[["id","item-admin-panel","class","d-flex flex-column col-12 p-2",4,"ngIf"],["class","d-flex justify-content-center align-items-center col-12 p-2",4,"ngIf"],["id","item-admin-panel",1,"d-flex","flex-column","col-12","p-2"],["class","d-flex justify-content-end col-12",4,"ngIf"],["class","col-12 mt-2",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#newItemModal",1,"btn","btn-primary","visually-hidden"],["newItemButton",""],["class","modal fade","id","newItemModal","tabindex","-1","aria-labelledby","newItemModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editItemModal",1,"btn","btn-primary","visually-hidden"],["editItemButton",""],["class","modal fade","id","editItemModal","tabindex","-1","aria-labelledby","editItemModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteItemModal",1,"btn","btn-primary","visually-hidden"],["deleteItemButton",""],["class","modal fade","id","deleteItemModal","tabindex","-1","aria-labelledby","deleteItemModalLabel","aria-hidden","true",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],[1,"d-flex","justify-content-end","col-12"],[1,"btn","btn-warning",3,"click"],[1,"col-2","text-center",3,"icon"],[1,"col-12","mt-2"],[1,"table-responsive"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-wrap"],["width","50px","height","50px",3,"src",4,"ngIf"],[4,"ngIf"],["width","50px","height","50px",3,"src"],[1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"btn","btn-danger",3,"click"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["id","newItemModal","tabindex","-1","aria-labelledby","newItemModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12"],[1,"col-12","text-center",3,"formGroup"],[1,"col-12","mb-2","d-flex","flex-row","justify-content-center","align-items-center"],[1,"form-floating","col-10"],["type","text","id","newItem-code-input","placeholder","Codigo","formControlName","code",1,"form-control",3,"ngClass"],["for","newItem-code-input"],["type","text","id","newItem-description-input","placeholder","Descripci\xf3n","formControlName","description",1,"form-control",3,"ngClass"],["for","newItem-description-input"],["type","text","id","newItem-price-input","placeholder","Precio","formControlName","price",1,"form-control",3,"ngClass"],["for","newItem-price-input"],["type","file","id","newItem-imageBase64-input","placeholder","Imagen","accept","image/*",1,"form-control",3,"ngClass","change"],["width","200px","height","200px",3,"src",4,"ngIf"],["type","number","id","newItem-stock-input","placeholder","Stock","formControlName","stock",1,"form-control",3,"ngClass"],["for","newItem-stock-input"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["class","spinner-grow","role","status",4,"ngIf"],["width","200px","height","200px",3,"src"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],["id","editItemModal","tabindex","-1","aria-labelledby","editItemModalLabel","aria-hidden","true",1,"modal","fade"],["id","editItemModalLabel",1,"modal-title"],["type","text","id","editItem-code-input","placeholder","Codigo","formControlName","code",1,"form-control",3,"ngClass"],["for","editItem-code-input"],["type","text","id","editItem-description-input","placeholder","Descripci\xf3n","formControlName","description",1,"form-control",3,"ngClass"],["for","editItem-description-input"],["type","text","id","editItem-price-input","placeholder","Precio","formControlName","price",1,"form-control",3,"ngClass"],["for","editItem-price-input"],["type","file","id","editItem-imageBase64-input","placeholder","Imagen","accept","image/*",1,"form-control",3,"ngClass","change"],["type","number","id","editItem-stock-input","placeholder","Stock","formControlName","stock",1,"form-control",3,"ngClass"],["for","editItem-stock-input"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteItemModal","tabindex","-1","aria-labelledby","deleteItemModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteItemModalLabel",1,"modal-title"],[1,"modal-body","col-12","text-center"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"],[1,"d-flex","justify-content-center","align-items-center","col-12","p-2"],[1,"text-danger"]],template:function(t,n){1&t&&(e.YNc(0,ee,15,8,"main",0),e.YNc(1,te,3,0,"div",1)),2&t&&(e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Item_Admin)),e.xp6(1),e.Q6J("ngIf",!n.permissions.includes(n.PermissionEnum.Item_Admin)))},dependencies:[d.mk,d.sg,d.O5,h.BN,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,g.Gy,d.H9]}),i})()},{path:"store",component:(()=>{class i{constructor(t,n,s){this.LoginService=t,this.Router=n,this.ApiBusinessService=s,this.faPlus=a.r8p,this.faTextHeight=a.Ond,this.faLocationDot=a.opg,this.faPencil=a.TzT,this.faXmark=a.g82,this.faBoxArchive=a.y3c,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingStores=!1,this.creatingStore=!1,this.updatingStore=!1,this.deletingStore=!1,this.createStoreForm=new r.cw({branch:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),direction:new r.NI("",r.kI.compose([r.kI.minLength(3),r.kI.maxLength(256)]))}),this.editStoreForm=new r.cw({id:new r.NI("",r.kI.compose([r.kI.required])),branch:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),direction:new r.NI("",r.kI.compose([r.kI.minLength(3),r.kI.maxLength(256)]))}),this.deleteStoreForm=new r.cw({id:new r.NI("",r.kI.compose([r.kI.required])),branch:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(256)])),direction:new r.NI("",r.kI.compose([r.kI.minLength(3),r.kI.maxLength(256)]))}),this.Stores=[]}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Store_Admin)&&this.Router.navigate([""])}),this.getStores()}getStores(){this.loadingStores=!0,this.hideError(),this.ApiBusinessService.getStores().subscribe({next:t=>this.handleNextStores(t),error:t=>this.handleErrorStores(t)})}handleNextStores(t){this.Stores=t,this.loadingStores=!1}handleErrorStores(t){this.loadingStores=!1,this.showErrorAlert(t.error)}onShowCreateStoreModal(){this.newStoreButton?.nativeElement.click()}onNewStoreSubmit(){if(!this.createStoreForm.value.branch)return;const t={branch:this.createStoreForm.value.branch,direction:this.createStoreForm.value.direction};this.creatingStore=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.createStore(t).subscribe({next:n=>this.handleNextCreateStore(n),error:n=>this.handleErrorCreateStore(n)})}handleNextCreateStore(t){this.creatingStore=!1,this.createStoreForm.reset(),this.newStoreButton?.nativeElement.click(),this.showAlert("\xa1Sucursal creada exitosamente!"),this.getStores()}handleErrorCreateStore(t){this.creatingStore=!1,this.showErrorAlert(t.error)}onShowUpdateModal(t){t&&(this.editStoreForm.controls.id.setValue(t.id.toString()),this.editStoreForm.controls.branch.setValue(t.branch),this.editStoreForm.controls.direction.setValue(t.direction),this.editStoreButton?.nativeElement.click())}onUpdateStore(){if(!this.editStoreForm.value.branch||!this.editStoreForm.value.id)return;const t={id:Number(this.editStoreForm.value.id),branch:this.editStoreForm.value.branch,direction:this.editStoreForm.value.direction};this.updatingStore=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.updateStore(t).subscribe({next:n=>this.handleNextUpdateStore(n),error:n=>this.handleErrorUpdateStore(n)})}handleNextUpdateStore(t){this.updatingStore=!1,this.editStoreForm.reset(),this.editStoreButton?.nativeElement.click(),this.showAlert("\xa1Sucursal actualizada exitosamente!"),this.getStores()}handleErrorUpdateStore(t){this.updatingStore=!1,this.showErrorAlert(t.error)}onShowDeleteModal(t){t&&(this.deleteStoreForm.controls.id.setValue(t.id.toString()),this.deleteStoreForm.controls.branch.setValue(t.branch),this.deleteStoreForm.controls.direction.setValue(t.direction),this.deleteStoreButton?.nativeElement.click())}onDeleteStore(){if(!this.deleteStoreForm.value.branch||!this.deleteStoreForm.value.id)return;const t={id:Number(this.deleteStoreForm.value.id),branch:this.deleteStoreForm.value.branch,direction:this.deleteStoreForm.value.direction};this.deletingStore=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.deleteStore(t).subscribe({next:n=>this.handleNextDeleteStore(n),error:n=>this.handleErrorDeleteStore(n)})}handleNextDeleteStore(t){this.deletingStore=!1,this.deleteStoreForm.reset(),this.deleteStoreButton?.nativeElement.click(),this.showAlert("\xa1Sucursal eliminada exitosamente!"),this.getStores()}handleErrorDeleteStore(t){this.deletingStore=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.F0),e.Y36(x.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-store-admin"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ne,5),e.Gf(oe,5),e.Gf(re,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.newStoreButton=s.first),e.iGM(s=e.CRH())&&(n.editStoreButton=s.first),e.iGM(s=e.CRH())&&(n.deleteStoreButton=s.first)}},decls:2,vars:2,consts:[["id","store-admin-panel","class","d-flex flex-column col-12 p-2",4,"ngIf"],["class","d-flex justify-content-center align-items-center col-12 p-2",4,"ngIf"],["id","store-admin-panel",1,"d-flex","flex-column","col-12","p-2"],["class","d-flex justify-content-end col-12",4,"ngIf"],["class","col-12 mt-2",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#newStoreModal",1,"btn","btn-primary","visually-hidden"],["newStoreButton",""],["class","modal fade","id","newStoreModal","tabindex","-1","aria-labelledby","newStoreModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editStoreModal",1,"btn","btn-primary","visually-hidden"],["editStoreButton",""],["class","modal fade","id","editStoreModal","tabindex","-1","aria-labelledby","editStoreModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteStoreModal",1,"btn","btn-primary","visually-hidden"],["deleteStoreButton",""],["class","modal fade","id","deleteStoreModal","tabindex","-1","aria-labelledby","deleteStoreModalLabel","aria-hidden","true",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],[1,"d-flex","justify-content-end","col-12"],[1,"btn","btn-warning",3,"click"],[1,"col-2","text-center",3,"icon"],[1,"col-12","mt-2"],[1,"table-responsive"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-wrap"],[1,"btn","btn-success",3,"routerLink"],[3,"icon"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["id","newStoreModal","tabindex","-1","aria-labelledby","newStoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newStoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12"],[1,"col-12","text-center",3,"formGroup"],[1,"col-12","mb-2","d-flex","flex-row","justify-content-center","align-items-center"],[1,"form-floating","col-10"],["type","text","id","newStore-branch-input","placeholder","Nombre","formControlName","branch",1,"form-control",3,"ngClass"],["for","newStore-branch-input"],["type","text","id","newStore-direction-input","placeholder","Direcci\xf3n (opcional)","formControlName","direction",1,"form-control",3,"ngClass"],["for","newStore-direction-input"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["class","spinner-grow","role","status",4,"ngIf"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],["id","editStoreModal","tabindex","-1","aria-labelledby","editStoreModalLabel","aria-hidden","true",1,"modal","fade"],["id","editStoreModalLabel",1,"modal-title"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteStoreModal","tabindex","-1","aria-labelledby","deleteStoreModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteStoreModalLabel",1,"modal-title"],[1,"modal-body","col-12","text-center"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"],[1,"d-flex","justify-content-center","align-items-center","col-12","p-2"],[1,"text-danger"]],template:function(t,n){1&t&&(e.YNc(0,Se,15,8,"main",0),e.YNc(1,we,3,0,"div",1)),2&t&&(e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.Store_Admin)),e.xp6(1),e.Q6J("ngIf",!n.permissions.includes(n.PermissionEnum.Store_Admin)))},dependencies:[d.mk,d.sg,d.O5,u.rH,h.BN,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.Gy]}),i})()},{path:"store/:id",component:(()=>{class i{constructor(t,n,s,l){this.LoginService=t,this.ActivatedRoute=n,this.ApiBusinessService=s,this.Router=l,this.StoreId=0,this.faPlus=a.r8p,this.faPencil=a.TzT,this.faXmark=a.g82,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingStore=!0,this.loadingItemStore=!1,this.loadingItems=!1,this.creatingItemStore=!1,this.updatingItemStore=!1,this.deletingItemStore=!1,this.Store={},this.Items=[],this.ItemsStore=[],this.offset=(new Date).getTimezoneOffset()}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Store_Admin)&&this.Router.navigate([""])}),this.RouteSubscription=this.ActivatedRoute.params.subscribe(t=>{this.StoreId=Number(t.id),this.getStore()})}ngOnDestroy(){this.RouteSubscription&&this.RouteSubscription.unsubscribe()}getStore(){this.StoreId&&(this.loadingStore=!0,this.hideError(),this.ApiBusinessService.getStore(this.StoreId).subscribe({next:t=>this.handleNextStore(t),error:t=>this.handleErrorStore(t)}))}handleNextStore(t){this.Store=t,this.loadingStore=!1,this.getItemsInStore(),this.getItems()}handleErrorStore(t){this.loadingStore=!1,this.showErrorAlert(t.error),this.Router.navigate(["admin/store"])}getItems(){this.loadingItems=!0,this.hideError(),this.ApiBusinessService.GetItems().subscribe({next:t=>this.handleNextItems(t),error:t=>this.handleErrorItems(t)})}handleNextItems(t){this.Items=t,this.loadingItems=!1}handleErrorItems(t){this.loadingItems=!1,this.showErrorAlert(t.error)}getItemsInStore(){this.Store&&(this.loadingItemStore=!0,this.hideError(),this.ApiBusinessService.getItemStore(this.Store.id).subscribe({next:t=>this.handleNextItemStore(t),error:t=>this.handleErrorItemStore(t)}))}handleNextItemStore(t){this.ItemsStore=t,this.loadingItemStore=!1}handleErrorItemStore(t){this.loadingItemStore=!1,this.showErrorAlert(t.error)}onShowAddItemModal(){this.newItemStoreButton?.nativeElement.click()}onCreateItemStore(t){if(!t||!this.Store)return;const n={itemId:t.id,storeId:this.Store.id};this.creatingItemStore=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.createItemStore(n).subscribe({next:s=>this.handleNextCreateItemStore(s),error:s=>this.handleErrorCreateItemStore(s)})}handleNextCreateItemStore(t){this.creatingItemStore=!1,this.newItemStoreButton?.nativeElement.click(),this.getItemsInStore(),this.showAlert("\xa1Articulo agregado a la sucursal exitosamente!")}handleErrorCreateItemStore(t){this.creatingItemStore=!1,this.showErrorAlert(t.error)}onShowUpdateModal(t){t.id&&(this.handleItemStore=t,this.editItemStoreButton?.nativeElement.click())}onUpdateItemStore(t){if(!this.handleItemStore||!t)return;let n=!1;if(this.ItemsStore.map(l=>{l.item?.id==t.id&&(n=!0)}),n)return void this.showErrorAlert("Articulo actualmente en la sucursal");const s={itemId:t.id};this.updatingItemStore=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.updateItemStore(this.handleItemStore.id,s).subscribe({next:l=>this.handleNextUpdateItemStore(l),error:l=>this.handleErrorUpdateItemStore(l)})}handleNextUpdateItemStore(t){this.updatingItemStore=!1,this.editItemStoreButton?.nativeElement.click(),this.handleItemStore=void 0,this.getItemsInStore(),this.showAlert("\xa1Articulo actualizado en la sucursal!")}handleErrorUpdateItemStore(t){this.updatingItemStore=!1,this.showErrorAlert(t.error)}onShowDeleteModal(t){t.id&&(this.handleItemStore=t,this.deleteItemStoreButton?.nativeElement.click())}onDeleteItemStore(){this.handleItemStore&&(this.deletingItemStore=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.deleteItemStore(this.handleItemStore.id).subscribe({next:t=>this.handleNextDeleteItemStore(t),error:t=>this.handleErrorDeleteItemStore(t)}))}handleNextDeleteItemStore(t){this.deletingItemStore=!1,this.deleteItemStoreButton?.nativeElement.click(),this.handleItemStore=void 0,this.getItemsInStore(),this.showAlert("\xa1Articulo eliminado de la sucursal!")}handleErrorDeleteItemStore(t){this.deletingItemStore=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.gz),e.Y36(x.G),e.Y36(u.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-store-item-admin"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ke,5),e.Gf(qe,5),e.Gf(Ne,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.newItemStoreButton=s.first),e.iGM(s=e.CRH())&&(n.editItemStoreButton=s.first),e.iGM(s=e.CRH())&&(n.deleteItemStoreButton=s.first)}},decls:4,vars:4,consts:[["id","store-item-admin-panel","class","d-flex flex-column col-12 p-2",4,"ngIf"],["class","d-flex justify-content-center align-items-center col-12 p-2",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["id","store-item-admin-panel",1,"d-flex","flex-column","col-12","p-2"],[4,"ngIf"],["class","col-12 mt-2",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#newItemStoreModal",1,"btn","btn-primary","visually-hidden"],["newItemStoreButton",""],["class","modal fade","id","newItemStoreModal","tabindex","-1","aria-labelledby","newItemStoreModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editItemStoreModal",1,"btn","btn-primary","visually-hidden"],["editItemStoreButton",""],["class","modal fade","id","editItemStoreModal","tabindex","-1","aria-labelledby","editItemStoreModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteItemStoreModal",1,"btn","btn-primary","visually-hidden"],["deleteItemStoreButton",""],["class","modal fade","id","deleteItemStoreModal","tabindex","-1","aria-labelledby","deleteItemStoreModalLabel","aria-hidden","true",4,"ngIf"],[1,"d-flex","flex-row","justify-content-between","col-12"],[1,"text-muted"],["class","btn btn-warning",3,"click",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"col-2","text-center",3,"icon"],[1,"table-responsive"],["class","col-12 text-center text-muted",4,"ngIf"],["class","table",4,"ngIf"],[1,"col-12","text-center","text-muted"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-wrap"],["width","50px","height","50px",3,"src",4,"ngIf"],["width","50px","height","50px",3,"src"],[1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"btn","btn-danger",3,"click"],[1,"col-12","mt-2"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["id","newItemStoreModal","tabindex","-1","aria-labelledby","newItemStoreModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newItemStoreModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["scope","row",1,"text-wrap"],[1,"btn","btn-warning",3,"disabled","click"],[3,"icon",4,"ngIf"],["class","spinner-grow","role","status",4,"ngIf"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],["id","editItemStoreModal","tabindex","-1","aria-labelledby","editItemStoreModalLabel","aria-hidden","true",1,"modal","fade"],["id","editItemStoreModalLabel",1,"modal-title"],[1,"btn","btn-primary",3,"disabled","click"],["id","deleteItemStoreModal","tabindex","-1","aria-labelledby","deleteItemStoreModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteItemStoreModalLabel",1,"modal-title"],[1,"modal-body","col-12","text-center"],["width","200px","height","200px",3,"src",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["width","200px","height","200px",3,"src"],[1,"d-flex","justify-content-center","align-items-center","col-12","p-2"],[1,"text-danger"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"]],template:function(t,n){1&t&&(e.YNc(0,pt,12,5,"main",0),e.YNc(1,ht,3,0,"div",1),e.YNc(2,gt,3,1,"div",2),e.YNc(3,ft,3,1,"div",3)),2&t&&(e.Q6J("ngIf",n.permissions.includes(n.PermissionEnum.ItemStore_Admin)),e.xp6(1),e.Q6J("ngIf",!n.permissions.includes(n.PermissionEnum.ItemStore_Admin)),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("ngIf",n.alert))},dependencies:[d.sg,d.O5,h.BN,g.Gy,d.uU]}),i})()},{path:"order",component:(()=>{class i{constructor(t,n,s){this.LoginService=t,this.Router=n,this.ApiBusinessService=s,this.faPencil=a.TzT,this.faXmark=a.g82,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingOrders=!0,this.deletingOrder=!1,this.Orders=[]}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Store_Admin)&&this.Router.navigate([""])}),this.getOrders()}getOrders(){this.loadingOrders=!0,this.hideError(),this.ApiBusinessService.getClientItems().subscribe({next:t=>this.handleNextOrders(t),error:t=>this.handleErrorOrders(t)})}handleNextOrders(t){this.Orders=t,this.loadingOrders=!1}handleErrorOrders(t){this.loadingOrders=!1,this.showErrorAlert(t.error)}onShowDeleteModal(t){t&&(this.handleOrder=t,this.deleteClientItemButton?.nativeElement.click())}onDeleteClientItem(){this.handleOrder&&(this.deletingOrder=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.deleteClientItem(Number(this.handleOrder.id)).subscribe({next:t=>this.handleNextDeleteClientItem(t),error:t=>this.handleErrorDeleteClientItem(t)}))}handleNextDeleteClientItem(t){this.deletingOrder=!1,this.handleOrder=void 0,this.deleteClientItemButton?.nativeElement.click(),this.showAlert("\xa1Pedido eliminado exitosamente!"),this.getOrders()}handleErrorDeleteClientItem(t){this.deletingOrder=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.F0),e.Y36(x.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-order-admin"]],viewQuery:function(t,n){if(1&t&&e.Gf(bt,5),2&t){let s;e.iGM(s=e.CRH())&&(n.deleteClientItemButton=s.first)}},decls:4,vars:4,consts:[[4,"ngIf"],["class","d-flex flex-wrap col-12 p-4",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","col-12 p-4",4,"ngIf"],["class","col-12 d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteClientItemModal",1,"btn","btn-primary","visually-hidden"],["deleteClientItemButton",""],["class","modal fade","id","deleteClientItemModal","tabindex","-1","aria-labelledby","deleteClientItemModalLabel","aria-hidden","true",4,"ngIf"],[1,"col-12","p-4"],[1,"text-muted"],["class","table-responsive",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-wrap"],["width","50px","height","50px",3,"src",4,"ngIf"],["width","50px","height","50px",3,"src"],[1,"btn","btn-danger",3,"click"],[3,"icon"],[1,"col-12","text-center"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"text-danger"],["id","deleteClientItemModal","tabindex","-1","aria-labelledby","deleteClientItemModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","deleteClientItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12","text-center"],["width","200px","height","200px",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["class","spinner-grow","role","status",4,"ngIf"],["width","200px","height","200px",3,"src"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],[1,"d-flex","flex-wrap","col-12","p-4"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"]],template:function(t,n){1&t&&(e.YNc(0,Et,6,3,"div",0),e.YNc(1,Pt,9,0,"div",1),e.YNc(2,Mt,3,1,"div",2),e.YNc(3,yt,3,1,"div",3)),2&t&&(e.Q6J("ngIf",!n.loadingOrders),e.xp6(1),e.Q6J("ngIf",n.loadingOrders),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("ngIf",n.alert))},dependencies:[d.sg,d.O5,h.BN,g.Gy,d.H9,d.uU]}),i})()},{path:"user",component:(()=>{class i{constructor(t,n,s){this.LoginService=t,this.Router=n,this.ApiBusinessService=s,this.faPencil=a.TzT,this.faXmark=a.g82,this.faLocationDot=a.opg,this.faTextHeight=a.Ond,this.faUser=a.ILF,this.faKey=a.DD4,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingUsers=!0,this.loadingRoles=!1,this.updatingUser=!1,this.deletingUser=!1,this.Clients=[],this.Roles=[],this.editUserForm=new r.cw({id:new r.NI("",r.kI.compose([r.kI.required])),name:new r.NI("",r.kI.compose([r.kI.required])),lastname:new r.NI("",r.kI.compose([r.kI.required])),direction:new r.NI("",r.kI.compose([])),roleId:new r.NI("",r.kI.compose([r.kI.required]))})}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Store_Admin)&&this.Router.navigate([""])}),this.getUsers(),this.getRoles()}getRoles(){this.loadingRoles=!0,this.hideError(),this.ApiBusinessService.getRoles().subscribe({next:t=>this.handleNextRoles(t),error:t=>this.handleErrorRole(t)})}handleNextRoles(t){this.Roles=t,this.loadingRoles=!1}handleErrorRole(t){this.loadingRoles=!1,this.showErrorAlert(t.error)}getUsers(){this.loadingUsers=!0,this.hideError(),this.ApiBusinessService.getUsers().subscribe({next:t=>this.handleNextUser(t),error:t=>this.handleErrorUser(t)})}handleNextUser(t){this.Clients=t,this.loadingUsers=!1}handleErrorUser(t){this.loadingUsers=!1,this.showErrorAlert(t.error)}onShowUpdateUserModel(t){t&&(this.editUserForm.controls.id.setValue(Number(t.id).toString()),this.editUserForm.controls.name.setValue(t.name),this.editUserForm.controls.lastname.setValue(t.lastname),this.editUserForm.controls.direction.setValue(t.direction),this.editUserForm.controls.roleId.setValue(Number(t.roleId).toString()),this.editUserButton?.nativeElement.click())}onUpdateUser(){if(!this.editUserForm.value.id)return;const t={name:this.editUserForm.value.name,lastname:this.editUserForm.value.name,direction:this.editUserForm.value.direction,roleId:Number(this.editUserForm.value.roleId)};this.updatingUser=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.updateUser(Number(this.editUserForm.value.id),t).subscribe({next:n=>this.handleNextUpdateUser(n),error:n=>this.hanldeErrorUpdateUser(n)})}handleNextUpdateUser(t){this.updatingUser=!1,this.editUserForm.reset(),this.editUserButton?.nativeElement.click(),this.showAlert("\xa1Usuario actualizado exitosamente!"),this.getUsers()}hanldeErrorUpdateUser(t){this.updatingUser=!1,this.showErrorAlert(t.error)}onShowDeleteUserModal(t){t&&(this.handlClient=t,this.deleteUserButton?.nativeElement.click())}onDeleteUser(){this.handlClient&&(this.deletingUser=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.deleteUser(Number(this.handlClient.id)).subscribe({next:t=>this.handleNextDeleteUser(t),error:t=>this.handleErrorDeleteUser(t)}))}handleNextDeleteUser(t){this.deletingUser=!1,this.handlClient=void 0,this.deleteUserButton?.nativeElement.click(),this.showAlert("\xa1Usuario eliminado exitosamente!"),this.getUsers()}handleErrorDeleteUser(t){this.deletingUser=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.F0),e.Y36(x.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-admin"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Qt,5),e.Gf(Ft,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.editUserButton=s.first),e.iGM(s=e.CRH())&&(n.deleteUserButton=s.first)}},decls:4,vars:4,consts:[[4,"ngIf"],["class","d-flex flex-wrap col-12 p-4",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","col-12 p-4",4,"ngIf"],["class","col-12 d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editUserModal",1,"btn","btn-primary","visually-hidden"],["editUserButton",""],["class","modal fade","id","editUserModal","tabindex","-1","aria-labelledby","editUserModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteUserModal",1,"btn","btn-primary","visually-hidden"],["deleteUserButton",""],["class","modal fade","id","deleteUserModal","tabindex","-1","aria-labelledby","deleteUserModalLabel","aria-hidden","true",4,"ngIf"],[1,"col-12","p-4"],[1,"text-muted"],["class","table-responsive",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-wrap"],[1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"btn","btn-danger",3,"click"],[1,"col-12","text-center"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"text-danger"],["id","editUserModal","tabindex","-1","aria-labelledby","editUserModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","editUserModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12"],[1,"col-12","text-center",3,"formGroup"],[1,"col-12","mb-2","d-flex","flex-row","justify-content-center","align-items-center"],[1,"col-2","text-center",3,"icon"],[1,"form-floating","col-10"],["type","text","id","newUser-name-input","placeholder","Nombre","formControlName","name",1,"form-control",3,"ngClass"],["for","newUser-name-input"],["type","text","id","newUser-lastname-input","placeholder","Apellido","formControlName","lastname",1,"form-control",3,"ngClass"],["for","newUser-lastname-input"],["type","text","id","newUser-direction-input","placeholder","Direcci\xf3n (Opcional)","formControlName","direction",1,"form-control",3,"ngClass"],["for","newUser-direction-input"],[1,"col-10"],["aria-label","Role Select","formControlName","roleId",1,"form-select"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","spinner-grow","role","status",4,"ngIf"],[3,"value","selected"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],["id","deleteUserModal","tabindex","-1","aria-labelledby","deleteUserModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteUserModalLabel",1,"modal-title"],[1,"modal-body","col-12","text-center"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"d-flex","flex-wrap","col-12","p-4"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"]],template:function(t,n){1&t&&(e.YNc(0,ti,9,4,"div",0),e.YNc(1,ii,9,0,"div",1),e.YNc(2,ni,3,1,"div",2),e.YNc(3,oi,3,1,"div",3)),2&t&&(e.Q6J("ngIf",!n.loadingUsers),e.xp6(1),e.Q6J("ngIf",n.loadingUsers),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("ngIf",n.alert))},dependencies:[d.mk,d.sg,d.O5,h.BN,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,g.Gy]}),i})()},{path:"role",component:(()=>{class i{constructor(t,n,s){this.LoginService=t,this.Router=n,this.ApiBusinessService=s,this.faPencil=a.TzT,this.faXmark=a.g82,this.faPlus=a.r8p,this.faTextHeight=a.Ond,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingRoles=!0,this.loadingPermissions=!1,this.creatingRole=!1,this.updatingRole=!1,this.deletingRole=!1,this.Roles=[],this.Permissions=[],this.PermissionsNames=[],this.newRoleForm=new r.cw({name:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(32)]))})}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Store_Admin)&&this.Router.navigate([""])}),this.getRoles(),this.getPermissions()}getPermissions(){this.loadingPermissions=!0,this.hideError(),this.ApiBusinessService.getPermissions().subscribe({next:t=>this.handleNextPermission(t),error:t=>this.handleErrorPermission(t)})}handleNextPermission(t){this.Permissions=t,this.Permissions.map(n=>this.PermissionsNames.push(n.name)),this.loadingPermissions=!1}handleErrorPermission(t){this.loadingPermissions=!1,this.showErrorAlert(t.error)}getRoles(){this.loadingRoles=!0,this.hideError(),this.ApiBusinessService.getRoles().subscribe({next:t=>this.handleNextRoles(t),error:t=>this.handleErrorRole(t)})}handleNextRoles(t){this.Roles=t,this.loadingRoles=!1}handleErrorRole(t){this.loadingRoles=!1,this.showErrorAlert(t.error)}onShowCreateModal(){this.newRoleButton?.nativeElement.click()}onCreateRole(){if(!this.newRoleForm.value.name)return;const t={name:this.newRoleForm.value.name};this.creatingRole=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.createRole(t).subscribe({next:n=>this.handleNextCreatRole(n),error:n=>this.handleErrorCreatRole(n)})}handleNextCreatRole(t){this.creatingRole=!1,this.newRoleForm.reset(),this.newRoleButton?.nativeElement.click(),this.showAlert("\xa1Role creado exitosamente!"),this.getRoles()}handleErrorCreatRole(t){this.creatingRole=!1,this.showErrorAlert(t.error)}onShowEditRoleModal(t){t&&(this.handleRole=t,this.editRoleButton?.nativeElement.click())}onChangePermission(t){if(!t||!t.target)return;const n=t.target;!n.checked&&this.handleRole&&(this.handleRole.permissions=this.handleRole?.permissions?.filter(s=>s!=n.value)),n.checked&&this.handleRole&&this.handleRole.permissions?.push(n.value)}onUpdateRole(){if(!this.handleRole)return;const t={permissions:this.handleRole.permissions};this.updatingRole=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.updateRole(Number(this.handleRole.id),t).subscribe({next:n=>this.handleNextUpdateRole(n),error:n=>this.handleErrorUpdateRole(n)})}handleNextUpdateRole(t){this.updatingRole=!1,this.handleRole=void 0,this.editRoleButton?.nativeElement.click(),this.showAlert("\xa1Role actualizado exitosamente!"),this.getRoles()}handleErrorUpdateRole(t){this.updatingRole=!1,this.showErrorAlert(t.error)}onShowDeleteModal(t){t&&(this.handleRole=t,this.deleteRoleButton?.nativeElement.click())}onDeleteRole(){this.handleRole&&(this.deletingRole=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.deleteRole(Number(this.handleRole.id)).subscribe({next:t=>this.handleNextDeleteRole(t),error:t=>this.handleErrorDeleteRole(t)}))}handleNextDeleteRole(t){this.deletingRole=!1,this.handleRole=void 0,this.deleteRoleButton?.nativeElement.click(),this.showAlert("\xa1Role eliminado exitosamente!"),this.getRoles()}handleErrorDeleteRole(t){this.deletingRole=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.F0),e.Y36(x.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-admin"]],viewQuery:function(t,n){if(1&t&&(e.Gf(si,5),e.Gf(li,5),e.Gf(ai,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.newRoleButton=s.first),e.iGM(s=e.CRH())&&(n.editRoleButton=s.first),e.iGM(s=e.CRH())&&(n.deleteRoleButton=s.first)}},decls:4,vars:4,consts:[[4,"ngIf"],["class","d-flex flex-wrap col-12 p-4",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","col-12 p-4",4,"ngIf"],["class","col-12 d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#newRoleModal",1,"btn","btn-primary","visually-hidden"],["newRoleButton",""],["class","modal fade","id","newRoleModal","tabindex","-1","aria-labelledby","newRoleModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editRoleModal",1,"btn","btn-primary","visually-hidden"],["editRoleButton",""],["class","modal fade","id","editRoleModal","tabindex","-1","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteRoleModal",1,"btn","btn-primary","visually-hidden"],["deleteRoleButton",""],["class","modal fade","id","deleteRoleModal","tabindex","-1","aria-labelledby","deleteRoleModalLabel","aria-hidden","true",4,"ngIf"],[1,"col-12","p-4"],[1,"text-muted"],["class","d-flex justify-content-end col-12 mb-2",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[1,"d-flex","justify-content-end","col-12","mb-2"],[1,"btn","btn-warning",3,"click"],[1,"col-2","text-center",3,"icon"],[1,"table-responsive"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"btn","btn-danger",3,"click"],[1,"col-12","text-center"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"text-danger"],["id","newRoleModal","tabindex","-1","aria-labelledby","newRoleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newRoleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12"],[1,"col-12","text-center",3,"formGroup"],[1,"col-12","mb-2","d-flex","flex-row","justify-content-center","align-items-center"],[1,"form-floating","col-10"],["type","text","id","newRole-name-input","placeholder","Nombre","formControlName","name",1,"form-control",3,"ngClass"],["for","newRole-name-input"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["class","spinner-grow","role","status",4,"ngIf"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],["id","editRoleModal","tabindex","-1","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],["id","editRoleModalLabel",1,"modal-title"],["class","list-unstyled",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"list-unstyled"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","checked","value","change"],[1,"form-check-label",3,"for"],["id","deleteRoleModal","tabindex","-1","aria-labelledby","deleteRoleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteRoleModalLabel",1,"modal-title"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"d-flex","flex-wrap","col-12","p-4"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"]],template:function(t,n){1&t&&(e.YNc(0,Ei,12,5,"div",0),e.YNc(1,Pi,9,0,"div",1),e.YNc(2,Mi,3,1,"div",2),e.YNc(3,yi,3,1,"div",3)),2&t&&(e.Q6J("ngIf",!n.loadingRoles),e.xp6(1),e.Q6J("ngIf",n.loadingRoles),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("ngIf",n.alert))},dependencies:[d.mk,d.sg,d.O5,h.BN,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.Gy]}),i})()},{path:"permission",component:(()=>{class i{constructor(t,n,s){this.LoginService=t,this.Router=n,this.ApiBusinessService=s,this.faPencil=a.TzT,this.faXmark=a.g82,this.faPlus=a.r8p,this.faTextHeight=a.Ond,this.permissions=[""],this.PermissionEnum=c.y,this.error=!1,this.errorMessage="",this.alert=!1,this.alertMessage="",this.loadingPermissions=!0,this.creatingPermission=!1,this.updatingPermission=!1,this.deletingPermission=!1,this.Permissions=[],this.newPermissionForm=new r.cw({name:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(32)]))}),this.editPermissionForm=new r.cw({id:new r.NI("",r.kI.compose([r.kI.required])),name:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(32)]))})}ngOnInit(){this.LoginService.currentPermissions.subscribe(t=>{this.permissions=t,this.permissions.length>1&&!this.permissions.includes(c.y.Store_Admin)&&this.Router.navigate([""])}),this.getPermissions()}getPermissions(){this.loadingPermissions=!0,this.hideError(),this.ApiBusinessService.getPermissions().subscribe({next:t=>this.handleNextPermission(t),error:t=>this.handleErrorPermission(t)})}handleNextPermission(t){this.Permissions=t,this.loadingPermissions=!1}handleErrorPermission(t){this.loadingPermissions=!1,this.showErrorAlert(t.error)}onShowCreateModal(){this.newPermissionButton?.nativeElement.click()}onCreatePermission(){if(!this.newPermissionForm.value.name)return;const t={name:this.newPermissionForm.value.name};this.creatingPermission=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.createPermission(t).subscribe({next:n=>this.handleNextCreatePermission(n),error:n=>this.handleErrorCreatePermission(n)})}handleNextCreatePermission(t){this.creatingPermission=!1,this.newPermissionForm.reset(),this.newPermissionButton?.nativeElement.click(),this.showAlert("\xa1Permiso creado exitosamente!"),this.getPermissions()}handleErrorCreatePermission(t){this.creatingPermission=!1,this.showErrorAlert(t.error)}onShowUpdateModal(t){t&&(this.editPermissionForm.controls.id.setValue(Number(t.id).toString()),this.editPermissionForm.controls.name.setValue(t.name),this.editPermissionButton?.nativeElement.click())}onUpdatePermission(){if(!this.editPermissionForm.value.id||!this.editPermissionForm.value.name)return;const t={name:this.editPermissionForm.value.name};this.updatingPermission=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.updatePermission(Number(this.editPermissionForm.value.id),t).subscribe({next:n=>this.handleNextUpdatePermission(n),error:n=>this.hanldeErrorUpdatePermission(n)})}handleNextUpdatePermission(t){this.updatingPermission=!1,this.editPermissionForm.reset(),this.editPermissionButton?.nativeElement.click(),this.showAlert("\xa1Permiso actualizado exitosamente!"),this.getPermissions()}hanldeErrorUpdatePermission(t){this.updatingPermission=!1,this.showErrorAlert(t.error)}onShowDeleteModal(t){t&&(this.handlePermission=t,this.deletePermissionButton?.nativeElement.click())}onDeletePermission(){!this.handlePermission||!this.handlePermission.id||(this.deletingPermission=!0,this.hideAlert(),this.hideError(),this.ApiBusinessService.deletePermission(Number(this.handlePermission.id)).subscribe({next:t=>this.handleNextDeletePermission(t),error:t=>this.handleErrorDeletePermission(t)}))}handleNextDeletePermission(t){this.deletingPermission=!1,this.handlePermission=void 0,this.deletePermissionButton?.nativeElement.click(),this.showAlert("\xa1Permiso eliminado exitosamente!"),this.getPermissions()}handleErrorDeletePermission(t){this.deletingPermission=!1,this.showErrorAlert(t.error)}hideAlert(){this.alert=!1,this.alertMessage=""}showAlert(t){this.alert=!0,this.alertMessage=t,setTimeout(()=>{this.hideAlert()},5e3)}hideError(){this.error=!1,this.errorMessage=""}showErrorAlert(t){this.error=!0,this.errorMessage=t.Message?t.Message||"Unknown error":t||"Unknown error"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.r),e.Y36(u.F0),e.Y36(x.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-permission-admin"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Qi,5),e.Gf(Fi,5),e.Gf(Ri,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.newPermissionButton=s.first),e.iGM(s=e.CRH())&&(n.editPermissionButton=s.first),e.iGM(s=e.CRH())&&(n.deletePermissionButton=s.first)}},decls:4,vars:4,consts:[[4,"ngIf"],["class","d-flex flex-wrap col-12 p-4",4,"ngIf"],["class","alert alert-danger fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","alert alert-primary fixed-bottom col-12 text-center","role","alert",4,"ngIf"],["class","col-12 p-4",4,"ngIf"],["class","col-12 d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#newPermissionModal",1,"btn","btn-primary","visually-hidden"],["newPermissionButton",""],["class","modal fade","id","newPermissionModal","tabindex","-1","aria-labelledby","newPermissionModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#editPermissionModal",1,"btn","btn-primary","visually-hidden"],["editPermissionButton",""],["class","modal fade","id","editPermissionModal","tabindex","-1","aria-labelledby","editPermissionModalLabel","aria-hidden","true",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#deletePermissionModal",1,"btn","btn-primary","visually-hidden"],["deletePermissionButton",""],["class","modal fade","id","deletePermissionModal","tabindex","-1","aria-labelledby","deletePermissionModalLabel","aria-hidden","true",4,"ngIf"],[1,"col-12","p-4"],[1,"text-muted"],["class","d-flex justify-content-end col-12 mb-2",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[1,"d-flex","justify-content-end","col-12","mb-2"],[1,"btn","btn-warning",3,"click"],[1,"col-2","text-center",3,"icon"],[1,"table-responsive"],[1,"table"],[1,"table-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"btn","btn-danger",3,"click"],[1,"col-12","text-center"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"text-danger"],["id","newPermissionModal","tabindex","-1","aria-labelledby","newPermissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newPermissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","col-12"],[1,"col-12","text-center",3,"formGroup"],[1,"col-12","mb-2","d-flex","flex-row","justify-content-center","align-items-center"],[1,"form-floating","col-10"],["type","text","id","newPermission-name-input","placeholder","Nombre","formControlName","name",1,"form-control",3,"ngClass"],["for","newPermission-name-input"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["class","spinner-grow","role","status",4,"ngIf"],["role","status",1,"spinner-grow"],[1,"visually-hidden"],["id","editPermissionModal","tabindex","-1","aria-labelledby","editPermissionModalLabel","aria-hidden","true",1,"modal","fade"],["id","editPermissionModalLabel",1,"modal-title"],["type","text","id","editPermission-name-input","placeholder","Nombre","formControlName","name",1,"form-control",3,"ngClass"],["for","editPermission-name-input"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deletePermissionModal","tabindex","-1","aria-labelledby","deletePermissionModalLabel","aria-hidden","true",1,"modal","fade"],["id","deletePermissionModalLabel",1,"modal-title"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"d-flex","flex-wrap","col-12","p-4"],["effect","wave","height","50px",1,"col-12","mb-4"],["effect","wave","height","30px",1,"col-12","mb-2"],["role","alert",1,"alert","alert-danger","fixed-bottom","col-12","text-center"],["role","alert",1,"alert","alert-primary","fixed-bottom","col-12","text-center"]],template:function(t,n){1&t&&(e.YNc(0,sn,12,5,"div",0),e.YNc(1,ln,9,0,"div",1),e.YNc(2,an,3,1,"div",2),e.YNc(3,dn,3,1,"div",3)),2&t&&(e.Q6J("ngIf",!n.loadingPermissions),e.xp6(1),e.Q6J("ngIf",n.loadingPermissions),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("ngIf",n.alert))},dependencies:[d.mk,d.sg,d.O5,h.BN,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.Gy]}),i})()}];let cn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(mn),u.Bz]}),i})();(0,d.qS)(T,"es-Mx");let _n=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[d.H9,{provide:T,useValue:"es-Mx"}],imports:[d.ez,cn,h.uH,r.u5,r.UX,g.s]}),i})()}}]);